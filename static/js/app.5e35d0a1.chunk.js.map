{"version":3,"file":"static/js/app.5e35d0a1.chunk.js","mappings":"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","sources":["D2App/locales/index.js","D2App/layout/theme.js","D2App/layout/InfoHeader.component.js","D2App/layout/InfoRow.component.js","D2App/aboutPage/AboutSection.component.js","D2App/aboutPage/AboutPage.component.js","D2App/optionValue.store.js","D2App/profile/profile.store.js","D2App/settings/userSettings.store.js","D2App/app.actions.js","D2App/account/account.actions.js","D2App/account/AccountEditor.component.js","D2App/userSettingsMapping.js","D2App/layout/AvatarEditor.component.js","webpack://@dhis2/app-shell/./src/D2App/layout/EmailField.component.module.css?d3e8","D2App/layout/TooltipWrapper.js","D2App/layout/VerifyEmail.component.js","D2App/layout/EmailField.component.js","D2App/layout/VerifyEmailWarning.js","D2App/layout/FormFields.component.js","D2App/profile/isValidWhatsApp.js","D2App/profile/profile.actions.js","D2App/account/Account.component.js","D2App/account/PasswordChangeSuccessDialog.js","webpack://@dhis2/app-shell/./src/D2App/account/twoFactor/TwoFactor.module.css?7401","webpack://@dhis2/app-shell/./src/D2App/account/twoFactor/TwoFactorDisableNoticeBox.module.css?08a8","D2App/account/twoFactor/TwoFactorDisableNoticeBox.js","webpack://@dhis2/app-shell/./src/D2App/account/twoFactor/TwoFactorEnableNotice.module.css?5565","D2App/account/twoFactor/TwoFactorEnableNotice.js","webpack://@dhis2/app-shell/./src/D2App/account/twoFactor/TwoFactorEnableInstructions.module.css?fe79","D2App/account/twoFactor/TwoFactorEmailCodeButton.js","D2App/account/twoFactor/TwoFactorEmailDisableInstructions.js","D2App/account/twoFactor/TwoFactorEmailEnableInstructions.js","webpack://@dhis2/app-shell/./src/D2App/account/twoFactor/TwoFactorDisableInstructions.module.css?6598","D2App/account/twoFactor/TwoFactorOTPDisableInstructions.js","D2App/account/twoFactor/TwoFactorOTPEnableInstructions.js","D2App/account/twoFactor/useTwoFaToggleMutation.js","D2App/account/twoFactor/TwoFactorInstructions.js","webpack://@dhis2/app-shell/./src/D2App/account/twoFactor/TwoFactorStatus.module.css?1e0e","D2App/account/twoFactor/TwoFactorStatus.js","webpack://@dhis2/app-shell/./src/D2App/account/twoFactor/TwoFactorToggler.module.css?bf50","D2App/account/twoFactor/TwoFactorToggler.js","D2App/account/twoFactor/TwoFactor.js","webpack://@dhis2/app-shell/./src/D2App/account/twoFactor/TwoFactorIntroduction.module.css?bc3c","D2App/account/twoFactor/TwoFactorIntroduction.js","D2App/account/twoFactor/useTwoFaToggleMutation41AndLower.js","D2App/account/twoFactor/TwoFactor41AndLower.js","D2App/layout/Sidebar.component.js","D2App/layout/Snackbar.component.js","webpack://@dhis2/app-shell/./src/D2App/personalAccessTokens/generateTokenModal/AuthoritiesWarning.module.css?8dd6","D2App/personalAccessTokens/generateTokenModal/AuthoritiesWarning.component.js","webpack://@dhis2/app-shell/./src/D2App/personalAccessTokens/generateTokenModal/AllowedMethodsFF.module.css?d58e","D2App/personalAccessTokens/generateTokenModal/AllowedMethodsFF.component.js","D2App/personalAccessTokens/generateTokenModal/AllowedReferrersFF.component.js","webpack://@dhis2/app-shell/./src/D2App/personalAccessTokens/generateTokenModal/ExpirationDateFF.module.css?3c33","D2App/personalAccessTokens/generateTokenModal/getTokenExpirationDate.js","D2App/personalAccessTokens/generateTokenModal/ExpirationDateFF.component.js","webpack://@dhis2/app-shell/./src/D2App/personalAccessTokens/generateTokenModal/Form.module.css?03f8","D2App/personalAccessTokens/generateTokenModal/BrowserForm.component.js","webpack://@dhis2/app-shell/./src/D2App/personalAccessTokens/generateTokenModal/ContextSelector.module.css?7299","D2App/personalAccessTokens/generateTokenModal/ContextSelector.component.js","D2App/personalAccessTokens/generateTokenModal/AllowedIpsFF.component.js","D2App/personalAccessTokens/generateTokenModal/ServerForm.component.js","D2App/personalAccessTokens/generateTokenModal/GenerateTokenModal.component.js","webpack://@dhis2/app-shell/./src/D2App/personalAccessTokens/PersonalAccessTokens.module.css?5c3f","D2App/personalAccessTokens/use-modal.js","D2App/personalAccessTokens/tokenCard/ConfirmDeleteModal.component.js","webpack://@dhis2/app-shell/./src/D2App/personalAccessTokens/tokenCard/ExistingToken.module.css?3895","D2App/personalAccessTokens/tokenCard/TokenPropType.js","D2App/personalAccessTokens/tokenCard/ExistingToken.component.js","webpack://@dhis2/app-shell/./src/D2App/personalAccessTokens/tokenCard/NewToken.module.css?c96c","D2App/personalAccessTokens/tokenCard/NewToken.component.js","webpack://@dhis2/app-shell/./src/D2App/personalAccessTokens/tokenCard/TokenCard.module.css?bfea","D2App/personalAccessTokens/tokenCard/TokenCard.component.js","webpack://@dhis2/app-shell/./src/D2App/personalAccessTokens/TokensList.module.css?7903","D2App/personalAccessTokens/TokensList.component.js","D2App/personalAccessTokens/PersonalAccessTokens.component.js","D2App/profile/Profile.component.js","D2App/settings/userSettings.actions.js","D2App/settings/UserSettings.component.js","D2App/layout/InfoCard.component.js","D2App/viewProfile/ViewProfile.component.js","D2App/app.router.js","D2App/AppWrapper.js"],"sourcesContent":["//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport bnTranslations from './bn/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport es_419Translations from './es_419/translations.json';\nimport frTranslations from './fr/translations.json';\nimport hi_INTranslations from './hi_IN/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport neTranslations from './ne/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport orTranslations from './or/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport roTranslations from './ro/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport siTranslations from './si/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uz_CyrlTranslations from './uz_Cyrl/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport uz_UZ_LatnTranslations from './uz_UZ_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('bn', namespace, bnTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('es_419', namespace, es_419Translations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('hi_IN', namespace, hi_INTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('ne', namespace, neTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('or', namespace, orTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ro', namespace, roTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('si', namespace, siTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz_Cyrl', namespace, uz_CyrlTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('uz_UZ_Latn', namespace, uz_UZ_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import { blue500, blue700, blue100, orange500, grey100, grey500, darkBlack, white, grey400 } from 'material-ui/styles/colors.js';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme.js';\nimport Spacing from 'material-ui/styles/spacing.js';\nimport { fade } from 'material-ui/utils/colorManipulator.js';\nconst theme = {\n  spacing: Spacing,\n  fontFamily: 'Roboto, sans-serif',\n  palette: {\n    primary1Color: blue500,\n    primary2Color: blue700,\n    primary3Color: blue100,\n    accent1Color: orange500,\n    accent2Color: grey100,\n    accent3Color: grey500,\n    textColor: darkBlack,\n    alternateTextColor: white,\n    canvasColor: white,\n    borderColor: grey400,\n    disabledColor: fade(darkBlack, 0.3)\n  }\n};\nconst muiTheme = getMuiTheme(theme);\nexport default Object.assign({}, muiTheme, {\n  forms: {\n    minWidth: 350,\n    maxWidth: 750\n  },\n  formInput: {\n    fontWeight: 100\n  }\n});","import PropTypes from 'prop-types';\nimport React from 'react';\nimport AppTheme from '../layout/theme.js';\nconst styles = {\n  header: {\n    fontSize: 24,\n    fontWeight: 300,\n    color: AppTheme.rawTheme.palette.textColor,\n    padding: '24px 0 12px 16px'\n  }\n};\nconst InfoHeader = _ref => {\n  let {\n    text\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.header\n  }, text);\n};\nInfoHeader.propTypes = {\n  text: PropTypes.string.isRequired\n};\nexport default InfoHeader;","import PropTypes from 'prop-types';\nimport React from 'react';\nconst InfoRow = _ref => {\n  let {\n    label,\n    value,\n    labelStyle\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"info-row\"\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"info-cell-name\",\n    style: labelStyle\n  }, label), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"info-cell-value\"\n  }, value));\n};\nInfoRow.propTypes = {\n  label: PropTypes.string.isRequired,\n  value: PropTypes.node.isRequired,\n  labelStyle: PropTypes.object\n};\nInfoRow.defaultProps = {\n  labelStyle: {}\n};\nexport default InfoRow;","import { Card, CardText } from 'material-ui/Card';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport InfoHeader from '../layout/InfoHeader.component.js';\nimport InfoRow from '../layout/InfoRow.component.js';\nconst styles = {\n  card: {\n    marginTop: 8,\n    marginRight: '1rem',\n    padding: '0 1rem'\n  }\n};\nconst AboutSection = _ref => {\n  let {\n    header,\n    attributes\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(InfoHeader, {\n    text: header\n  }), /*#__PURE__*/React.createElement(Card, {\n    style: styles.card\n  }, /*#__PURE__*/React.createElement(CardText, null, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"info-content\"\n  }, /*#__PURE__*/React.createElement(\"tbody\", null, attributes.map(_ref2 => {\n    let {\n      label,\n      value\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(InfoRow, {\n      key: label,\n      label: label,\n      value: typeof value === 'boolean' ? value.toString() : value\n    });\n  }))))));\n};\nAboutSection.propTypes = {\n  attributes: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.oneOfType([PropTypes.node, PropTypes.bool])\n  })).isRequired,\n  header: PropTypes.string.isRequired\n};\nexport default AboutSection;","function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport i18n from '../locales/index.js';\nimport AboutSection from './AboutSection.component.js';\nconst parseDateFromUTCString = (utcString, d2, hideIfEmpty) => {\n  try {\n    if (!utcString) {\n      return hideIfEmpty ? undefined : i18n.t('Never');\n    }\n    const locale = d2.currentUser.userSettings.settings.keyUiLocale;\n    const date = new Date(utcString);\n    const options = {\n      day: 'numeric',\n      month: 'long',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n      hour12: false\n    };\n    return new Intl.DateTimeFormat(locale, options).format(date);\n  } catch (error) {\n    return i18n.t('Invalid date');\n  }\n};\nconst attributes = {\n  systemInfo: [{\n    key: null,\n    label: i18n.t('Web API'),\n    getDisplayValue: (_value, d2) => /*#__PURE__*/React.createElement(\"a\", {\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      href: `${d2.system.systemInfo.contextPath}/api`\n    }, i18n.t('Browse it here'))\n  }, {\n    key: null,\n    label: i18n.t('Current user'),\n    getDisplayValue: (_value, d2) => d2.currentUser.username\n  }, {\n    key: 'version',\n    label: i18n.t('Version')\n  }, {\n    key: 'revision',\n    label: i18n.t('Build revision')\n  }, {\n    key: 'buildTime',\n    label: i18n.t('Build date'),\n    getDisplayValue: (value, d2) => parseDateFromUTCString(value, d2)\n  }, {\n    key: 'jasperReportsVersion',\n    label: i18n.t('Jasper reports version')\n  }, {\n    key: 'userAgent',\n    label: i18n.t('User agent')\n  }, {\n    key: 'serverDate',\n    label: i18n.t('Server date'),\n    getDisplayValue: (value, d2) => parseDateFromUTCString(value, d2)\n  }, {\n    key: 'lastAnalyticsTableSuccess',\n    label: i18n.t('Last analytics table generation'),\n    getDisplayValue: (value, d2) => parseDateFromUTCString(value, d2)\n  }, {\n    key: 'intervalSinceLastAnalyticsTableSuccess',\n    label: i18n.t('Time since last analytics table generation')\n  }, {\n    key: 'lastAnalyticsTableRuntime',\n    label: i18n.t('Last analytics table runtime')\n  }, {\n    key: 'lastAnalyticsTablePartitionSuccess',\n    label: i18n.t('Last continuous analytics table update'),\n    getDisplayValue: (value, d2) => parseDateFromUTCString(value, d2, true)\n  }, {\n    key: 'intervalSinceLastAnalyticsTablePartitionSuccess',\n    label: i18n.t('Time since last continuous analytics table update')\n  }, {\n    key: 'lastAnalyticsTablePartitionRuntime',\n    label: i18n.t('Last continuous analytics table runtime')\n  }, {\n    key: 'environmentVariable',\n    label: i18n.t('Environment variable')\n  }, {\n    key: 'systemId',\n    label: i18n.t('System ID')\n  }, {\n    key: 'lastSystemMonitoringSuccess',\n    label: i18n.t('Last monitoring success'),\n    getDisplayValue: (value, d2) => parseDateFromUTCString(value, d2)\n  }, {\n    key: 'externalDirectory',\n    label: i18n.t('External configuration directory')\n  }, {\n    key: 'fileStoreProvider',\n    label: i18n.t('File store provider')\n  }, {\n    key: 'nodeId',\n    label: i18n.t('Node ID')\n  }, {\n    key: 'cacheProvider',\n    label: i18n.t('Cache provider')\n  }, {\n    key: 'readReplicaCount',\n    label: i18n.t('Read replica count')\n  }, {\n    key: 'javaOpts',\n    label: i18n.t('Java opts')\n  }, {\n    key: 'javaVersion',\n    label: i18n.t('Java version')\n  }, {\n    key: 'javaVendor',\n    label: i18n.t('Java vendor')\n  }, {\n    key: 'osName',\n    label: i18n.t('OS name')\n  }, {\n    key: 'osArchitecture',\n    label: i18n.t('OS architecture')\n  }, {\n    key: 'osVersion',\n    label: i18n.t('OS version')\n  }, {\n    key: 'memoryInfo',\n    label: i18n.t('Memory info')\n  }, {\n    key: 'cpuCores',\n    label: i18n.t('CPU cores')\n  }, {\n    key: 'calendar',\n    label: i18n.t('Calendar')\n  }],\n  databaseInfo: [{\n    key: 'name',\n    label: i18n.t('Name')\n  }, {\n    key: 'user',\n    label: i18n.t('User')\n  }, {\n    key: 'spatialSupport',\n    label: i18n.t('Spatial support')\n  }]\n};\nclass AboutPage extends Component {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"getAttributes\", (selected, source) => selected.reduce((acc, attribute) => {\n      if (attribute.getDisplayValue !== undefined) {\n        const value = attribute.getDisplayValue(source[attribute.key], this.context.d2);\n        if (value !== undefined) {\n          acc.push({\n            label: attribute.label,\n            value\n          });\n        }\n      } else if (source[attribute.key]) {\n        acc.push({\n          label: attribute.label,\n          value: source[attribute.key]\n        });\n      }\n      return acc;\n    }, []));\n    _defineProperty(this, \"render\", () => {\n      const {\n        d2\n      } = this.context;\n      const systemInfo = this.getAttributes(attributes.systemInfo, d2.system.systemInfo);\n      const databaseInfo = this.getAttributes(attributes.databaseInfo, d2.system.systemInfo.databaseInfo);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content-area\"\n      }, systemInfo.length > 0 && /*#__PURE__*/React.createElement(AboutSection, {\n        header: i18n.t('System info'),\n        attributes: systemInfo\n      }), databaseInfo.length > 0 && /*#__PURE__*/React.createElement(AboutSection, {\n        header: i18n.t('Database'),\n        attributes: databaseInfo\n      }));\n    });\n  }\n}\nAboutPage.contextTypes = {\n  d2: PropTypes.object.isRequired\n};\nexport default AboutPage;","import Store from 'd2-ui/lib/store/Store.js';\nexport default Store.create();","import Store from 'd2-ui/lib/store/Store.js';\nexport default Store.create();","import Store from 'd2-ui/lib/store/Store.js';\nexport default Store.create();","import { getInstance as getD2 } from 'd2';\nimport Action from 'd2-ui/lib/action/Action.js';\nimport log from 'loglevel';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { hashHistory } from 'react-router';\nimport AppRouter from './app.router.js';\nimport optionValueStore from './optionValue.store.js';\nimport userProfileStore from './profile/profile.store.js';\nimport userSettingsStore from './settings/userSettings.store.js';\nconst appActions = Action.createActionsFromNames(['init', 'setCategory', 'showSnackbarMessage' // Implemented in Snackbar.component.js\n]);\n\nappActions.init.subscribe(() => {\n  getD2().then(d2 => {\n    const api = d2.Api.getApi();\n    Promise.all([api.get('system/styles'), api.get('locales/ui'), api.get('locales/db'), api.get('userSettings', {\n      useFallback: false\n    }), d2.system.settings.all(), api.get('2fa/qr')]).then(results => {\n      const styles = (results[0] || []).map(style => ({\n        id: style.path,\n        displayName: style.name\n      }));\n      const uiLocales = (results[1] || []).map(locale => ({\n        id: locale.locale,\n        displayName: locale.name\n      }));\n      const dbLocales = (results[2] || []).map(locale => ({\n        id: locale.locale,\n        displayName: locale.name\n      }));\n      const systemDefault = Object.keys(results[4]).reduce((defaults, key) => {\n        defaults[key] = results[4][key];\n        return defaults;\n      }, {});\n      userProfileStore.setState(d2.currentUser);\n      userProfileStore.state.qrCodeUrl = results[5].url;\n      userSettingsStore.setState(results[3]);\n      optionValueStore.setState({\n        styles,\n        uiLocales,\n        dbLocales,\n        systemDefault\n      });\n      log.debug('Current user profile loaded:', userProfileStore.state);\n      log.debug('Current user settings loaded:', userSettingsStore.state);\n      ReactDOM.render( /*#__PURE__*/React.createElement(AppRouter, {\n        d2: d2\n      }), document.querySelector('#app'));\n    }, error => {\n      log.error('Failed to load user settings:', error);\n    });\n  });\n});\nappActions.setCategory.subscribe(_ref => {\n  let {\n    data: target\n  } = _ref;\n  hashHistory.push(`/${target}`);\n});\nexport default appActions;","import { getInstance as getD2 } from 'd2';\nimport Action from 'd2-ui/lib/action/Action';\nimport log from 'loglevel';\nimport appActions from '../app.actions.js';\nimport i18n from '../locales/index.js';\nconst accountActions = Action.createActionsFromNames(['setPassword']);\naccountActions.setPassword.subscribe(_ref => {\n  let {\n    data: [oldPassword, newPassword, onSuccess],\n    complete,\n    error\n  } = _ref;\n  const payload = {\n    oldPassword,\n    newPassword\n  };\n  getD2().then(d2 => {\n    const api = d2.Api.getApi();\n    api.update('/me/changePassword', payload).then(() => {\n      log.debug('Password updated successfully.');\n      appActions.setCategory('passwordChanged');\n      onSuccess();\n      complete();\n    }).catch(err => {\n      const message = err && err.message && typeof err.message === 'string' ? err.message : i18n.t('Failed to update password');\n      appActions.showSnackbarMessage({\n        message,\n        status: 'error',\n        permanent: true\n      });\n      log.error('Failed to update password:', err);\n      error();\n    });\n  });\n});\nexport default accountActions;","function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport TextField from 'd2-ui/lib/form-fields/TextField';\nimport FormBuilder from 'd2-ui/lib/forms/FormBuilder.component';\nimport { FlatButton, RaisedButton } from 'material-ui';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport appActions from '../app.actions.js';\nimport i18n from '../locales/index.js';\nimport accountActions from './account.actions.js';\nconst styles = {\n  notification: {\n    border: '1px solid #bdbdbd',\n    backgroundColor: '#e5e5e5',\n    padding: 12\n  }\n};\n\n// from our frontend validator https://github.com/dhis2/ui/blob/master/collections/forms/src/validators/dhis2Password.js\nconst DEFAULT_MIN_PASSWORD_LENGTH = 8;\nconst DEFAULT_MAX_PASSWORD_LENGTH = 72;\nclass AccountEditor extends Component {\n  constructor(props) {\n    super(props);\n    _defineProperty(this, \"isSamePassword\", value => {\n      return value === this.state.newPassword;\n    });\n    _defineProperty(this, \"isNotEmpty\", value => {\n      return value && String(value).trim().length > 0;\n    });\n    _defineProperty(this, \"clearRepeatPassword\", () => {\n      this.setState({\n        oldPassword: '',\n        reNewPassword: '',\n        newPassword: ''\n      });\n      return true;\n    });\n    _defineProperty(this, \"updatePassword\", () => {\n      const formState = this.formBuilder ? this.formBuilder.state.form : {};\n      if (formState.pristine === true) {\n        appActions.showSnackbarMessage({\n          message: i18n.t('No changes have been made')\n        });\n      } else if (formState.validating === true) {\n        appActions.showSnackbarMessage({\n          message: i18n.t('The form is currently being validated. Please try again.'),\n          status: 'warning'\n        });\n      } else if (formState.valid !== true) {\n        appActions.showSnackbarMessage({\n          message: i18n.t('The form contains errors. Please fix the errors and try again.'),\n          status: 'error'\n        });\n      } else if (!this.isNotEmpty(this.state.newPassword) || !this.isNotEmpty(this.state.reNewPassword)) {\n        appActions.showSnackbarMessage({\n          message: i18n.t('The entered values do not match. Please re-enter.'),\n          status: 'error'\n        });\n      } else if (!this.isNotEmpty(this.state.oldPassword)) {\n        appActions.showSnackbarMessage({\n          message: i18n.t('Please provide your old password'),\n          status: 'error'\n        });\n      } else {\n        accountActions.setPassword(this.state.oldPassword, this.state.newPassword, this.clearRepeatPassword);\n      }\n    });\n    _defineProperty(this, \"openTwoFactorDialog\", () => {\n      appActions.setCategory('twoFactor');\n    });\n    _defineProperty(this, \"updateState\", (e, v) => {\n      this.setState({\n        [e]: v\n      });\n    });\n    _defineProperty(this, \"validatePassword\", (val, regEx) => !val ? true : regEx.test(val));\n    this.state = {\n      oldPassword: '',\n      newPassword: '',\n      reNewPassword: '',\n      wrongOldPasswordText: ''\n    };\n  }\n  render() {\n    const usesOpenIdConnect = this.context.d2.currentUser.externalAuth;\n    const {\n      minPasswordLength,\n      maxPasswordLength\n    } = this.context.d2.system.settings.settings;\n    const minLength = Number.isInteger(Number(minPasswordLength)) ? Number(minPasswordLength) : DEFAULT_MIN_PASSWORD_LENGTH;\n    const maxLength = Number.isInteger(Number(maxPasswordLength)) ? Number(maxPasswordLength) : DEFAULT_MAX_PASSWORD_LENGTH;\n    const passwordRegEx = new RegExp(`^(?=.*[A-Z])(?=.*[a-z])(?=.*\\\\d)(?=.*[\\\\W_])[A-Za-z\\\\d\\\\W_]{${minLength},${maxLength}}$`);\n    const fields = [{\n      name: 'username',\n      component: TextField,\n      value: this.props.username,\n      props: {\n        floatingLabelText: i18n.t('Username'),\n        style: {\n          width: '100%'\n        },\n        disabled: true\n      }\n    }, {\n      name: 'oldPassword',\n      component: TextField,\n      value: this.state.oldPassword,\n      props: {\n        type: 'password',\n        floatingLabelText: i18n.t('Old password'),\n        style: {\n          width: '100%'\n        },\n        changeEvent: 'onBlur',\n        autoComplete: 'new-password',\n        disabled: usesOpenIdConnect\n      },\n      validators: [{\n        validator: this.isNotEmpty,\n        message: i18n.t(\"This field can't be left blank\")\n      }]\n    }, {\n      name: 'newPassword',\n      component: TextField,\n      value: this.state.newPassword,\n      props: {\n        type: 'password',\n        floatingLabelText: i18n.t('New password'),\n        style: {\n          width: '100%'\n        },\n        changeEvent: 'onBlur',\n        autoComplete: 'new-password',\n        disabled: usesOpenIdConnect\n      },\n      validators: [{\n        validator: val => this.validatePassword(val, passwordRegEx),\n        message: i18n.t('Password should be between {{minPasswordLength}} and {{maxPasswordLength}} characters long, with at least one lowercase character, one uppercase character, one number, and one special character.', {\n          minPasswordLength,\n          maxPasswordLength\n        })\n      }]\n    }, {\n      name: 'reNewPassword',\n      component: TextField,\n      value: this.state.reNewPassword,\n      props: {\n        type: 'password',\n        floatingLabelText: i18n.t('Repeat new password'),\n        style: {\n          width: '100%'\n        },\n        changeEvent: 'onBlur',\n        autoComplete: 'new-password',\n        disabled: usesOpenIdConnect\n      },\n      validators: [{\n        validator: this.isSamePassword,\n        message: i18n.t('The entered values do not match. Please re-enter.')\n      }]\n    }, {\n      name: 'twoFactorSetupButton',\n      component: FlatButton,\n      props: {\n        label: i18n.t('Setup 2-Factor'),\n        onClick: this.openTwoFactorDialog,\n        style: {\n          marginTop: '20px'\n        },\n        secondary: false,\n        disabled: usesOpenIdConnect\n      }\n    }, {\n      name: 'postbutton',\n      component: RaisedButton,\n      props: {\n        label: i18n.t('Update password'),\n        onClick: this.updatePassword,\n        style: {\n          marginTop: '20px'\n        },\n        secondary: true,\n        disabled: usesOpenIdConnect\n      }\n    }];\n    const setRef = r => {\n      this.formBuilder = r;\n    };\n    return /*#__PURE__*/React.createElement(React.Fragment, null, usesOpenIdConnect && /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.notification\n    }, i18n.t(\"This account is linked to an OpenID Connect identity. Visit the Open ID Connect provider to manage this account's settings.\")), /*#__PURE__*/React.createElement(FormBuilder, {\n      fields: fields,\n      onUpdateField: this.updateState,\n      ref: setRef\n    }));\n  }\n}\nAccountEditor.propTypes = {\n  username: PropTypes.string.isRequired\n};\nAccountEditor.contextTypes = {\n  d2: PropTypes.object.isRequired\n};\nexport default AccountEditor;","import i18n from './locales/index.js';\nconst settingsKeyMapping = {\n  /* ================================================================= */\n  /* Category: Profile Settings                                        */\n  /* ================================================================= */\n  firstName: {\n    label: i18n.t('First name'),\n    type: 'textfield',\n    validators: ['required']\n  },\n  surname: {\n    label: i18n.t('Surname'),\n    type: 'textfield',\n    validators: ['required']\n  },\n  avatar: {\n    label: i18n.t('Profile picture'),\n    type: 'avatar'\n  },\n  gender: {\n    label: i18n.t('Gender'),\n    type: 'dropdown',\n    options: {\n      gender_male: i18n.t('Male'),\n      gender_female: i18n.t('Female'),\n      gender_other: i18n.t('Other')\n    }\n  },\n  email: {\n    label: i18n.t('E-mail'),\n    type: 'emailModal',\n    validators: ['email']\n  },\n  phoneNumber: {\n    label: i18n.t('Mobile phone number'),\n    type: 'textfield'\n  },\n  introduction: {\n    label: i18n.t('Introduction'),\n    type: 'textfield',\n    multiLine: true\n  },\n  jobTitle: {\n    label: i18n.t('Job title'),\n    type: 'textfield'\n  },\n  userRoles: {\n    label: i18n.t('User roles'),\n    type: 'userRoles',\n    validators: ['required']\n  },\n  userOrgUnits: {\n    label: i18n.t('User org units'),\n    type: 'userOrgUnits',\n    validators: ['required']\n  },\n  birthday: {\n    label: i18n.t('Birthday'),\n    type: 'date'\n  },\n  nationality: {\n    label: i18n.t('Nationality'),\n    type: 'textfield'\n  },\n  employer: {\n    label: i18n.t('Employer'),\n    type: 'textfield'\n  },\n  education: {\n    label: i18n.t('Education'),\n    type: 'textfield',\n    multiLine: true\n  },\n  // TODO: chips component for interests and languages?\n  interests: {\n    label: i18n.t('Interests'),\n    type: 'textfield',\n    multiLine: true\n  },\n  languages: {\n    label: i18n.t('Languages'),\n    type: 'textfield',\n    multiLine: true\n  },\n  whatsApp: {\n    label: i18n.t('WhatsApp'),\n    type: 'textfield',\n    validators: ['whats_app']\n  },\n  facebookMessenger: {\n    label: i18n.t('Facebook Messenger'),\n    type: 'textfield'\n  },\n  skype: {\n    label: i18n.t('Skype'),\n    type: 'textfield'\n  },\n  telegram: {\n    label: i18n.t('Telegram'),\n    type: 'textfield'\n  },\n  twitter: {\n    label: i18n.t('Twitter'),\n    type: 'textfield'\n  },\n  /* ================================================================= */\n  /* Category: Account Settings                                        */\n  /* ================================================================= */\n  accountEditor: {\n    label: i18n.t('Account editor'),\n    type: 'accountEditor'\n  },\n  /* ================================================================= */\n  /* Category: System Settings                                         */\n  /* ================================================================= */\n  keyUiLocale: {\n    label: i18n.t('Interface language'),\n    type: 'dropdown',\n    source: 'uiLocales',\n    showSystemDefault: true\n  },\n  keyDbLocale: {\n    label: i18n.t('Database language'),\n    type: 'dropdown',\n    source: 'dbLocales',\n    showSystemDefault: true\n  },\n  keyStyle: {\n    label: i18n.t('Style'),\n    type: 'dropdown',\n    source: 'styles',\n    showSystemDefault: true\n  },\n  keyAnalysisDisplayProperty: {\n    label: i18n.t('Property to display in analysis modules'),\n    type: 'dropdown',\n    options: {\n      name: i18n.t('Name'),\n      shortName: i18n.t('Short name')\n    },\n    showSystemDefault: true\n  },\n  keyMessageEmailNotification: {\n    label: i18n.t('Enable message email notifications'),\n    type: 'dropdown',\n    options: {\n      true: i18n.t('Yes'),\n      false: i18n.t('No')\n    }\n  },\n  keyMessageSmsNotification: {\n    label: i18n.t('Enable message SMS notifications'),\n    type: 'dropdown',\n    options: {\n      true: i18n.t('Yes'),\n      false: i18n.t('No')\n    }\n  }\n};\nexport default settingsKeyMapping;","function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport CircularProgress from 'material-ui/CircularProgress';\nimport FlatButton from 'material-ui/FlatButton';\nimport ActionDelete from 'material-ui/svg-icons/action/delete.js';\nimport FileUpload from 'material-ui/svg-icons/file/file-upload.js';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport userSettingsActions from '../app.actions.js';\nimport i18n from '../locales/index.js';\nimport './avatareditor.component.css';\nimport optionValueStore from '../optionValue.store.js';\nconst MAX_PROFILE_PICTURE_SIZE_IN_MB = 2; // maximum allowed file size for an avatar (2MB)\n\nclass AvatarEditor extends Component {\n  constructor(props) {\n    var _optionValueStore$sta, _optionValueStore$sta2;\n    super(props);\n\n    // This system setting does not exist currently, but leaving it here in case 1MB is not enough in some contexts\n    _defineProperty(this, \"getInputRef\", () => this.inputRef);\n    _defineProperty(this, \"setInputRef\", node => this.inputRef = node);\n    _defineProperty(this, \"onFileSelect\", async event => {\n      const {\n        onChange\n      } = this.props;\n      // Setup form data for image file\n      const file = event.target.files[0];\n\n      // reject files bigger than the maximum allowed size\n      const maxSize = this.maxPhotoSize * 1000 * 1024; // maximum size in bytes\n      if ((file === null || file === void 0 ? void 0 : file.size) > maxSize) {\n        userSettingsActions.showSnackbarMessage({\n          message: i18n.t(`Please choose a profile avatar less than {{- maxSize}}MB in size.`, {\n            maxSize: this.maxPhotoSize\n          }),\n          status: 'error',\n          permanent: true\n        });\n        return;\n      }\n\n      // Cancel was pressed, no file provided\n      if (!file) {\n        return;\n      }\n      this.setState({\n        loading: true\n      });\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('domain', 'USER_AVATAR');\n\n      // Send image to server and save image id as avatar\n      try {\n        const postResponse = await this.api.post('fileResources', formData);\n        const imageId = postResponse.response.fileResource.id;\n        onChange({\n          target: {\n            value: {\n              id: imageId\n            }\n          }\n        });\n        this.setState({\n          loading: false,\n          avatarSrc: this.parseAvatarSrc(imageId)\n        });\n      } catch (error) {\n        userSettingsActions.showSnackbarMessage({\n          message: i18n.t('Failed to upload profile picture'),\n          status: 'error'\n        });\n        console.error('POST request to fileResources endpoint failed: ', error);\n      }\n    });\n    _defineProperty(this, \"onRemoveIcon\", () => {\n      this.props.onChange({\n        target: {\n          value: null\n        }\n      });\n      // Clear input here to ensure that a re-upload of a previously used file is not ignored\n      const input = this.getInputRef();\n      input.value = null;\n      this.setState({\n        avatarSrc: null\n      });\n    });\n    this.maxPhotoSize = (_optionValueStore$sta = optionValueStore === null || optionValueStore === void 0 ? void 0 : (_optionValueStore$sta2 = optionValueStore.state.systemDefault) === null || _optionValueStore$sta2 === void 0 ? void 0 : _optionValueStore$sta2.keyMaxAvatarSizeInMB) !== null && _optionValueStore$sta !== void 0 ? _optionValueStore$sta : MAX_PROFILE_PICTURE_SIZE_IN_MB;\n    this.api = props.d2.Api.getApi();\n    this.userId = props.currentUser.id;\n    this.state = {\n      avatarSrc: props.currentUser.avatar ? this.parseAvatarSrc(props.currentUser.avatar.id) : null,\n      loading: false\n    };\n    this.inputRef = null;\n  }\n  parseAvatarSrc(avatarId) {\n    return `${this.api.baseUrl}/fileResources/${avatarId}/data`;\n  }\n  renderAvatar() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"avatar-editor__preview\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.avatarSrc,\n      className: \"avatar-editor__image\",\n      alt: i18n.t('Profile picture')\n    }));\n  }\n  renderPlaceholder() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"avatar-editor__not-available\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, i18n.t('No profile picture available')));\n  }\n  render() {\n    const {\n      loading,\n      avatarSrc\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"avatar-editor\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"avatar-editor__label\"\n    }, i18n.t('Profile picture')), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"avatar-editor__preview-wrap\"\n    }, loading ? /*#__PURE__*/React.createElement(CircularProgress, null) : avatarSrc ? this.renderAvatar() : this.renderPlaceholder()), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"avatar-editor__buttonstrip\"\n    }, /*#__PURE__*/React.createElement(FlatButton, {\n      containerElement: \"label\",\n      icon: /*#__PURE__*/React.createElement(FileUpload, null),\n      label: i18n.t('Select profile picture'),\n      primary: true\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.onFileSelect,\n      style: {\n        display: 'none'\n      },\n      type: \"file\",\n      accept: \"image/*\",\n      ref: this.setInputRef\n    })), avatarSrc && /*#__PURE__*/React.createElement(FlatButton, {\n      icon: /*#__PURE__*/React.createElement(ActionDelete, null),\n      label: i18n.t('Remove profile picture'),\n      onClick: this.onRemoveIcon\n    })));\n  }\n}\nAvatarEditor.propTypes = {\n  currentUser: PropTypes.object.isRequired,\n  d2: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired\n};\nexport default AvatarEditor;","// extracted by mini-css-extract-plugin\nexport default {\"emailModalContainer\":\"EmailField_component_emailModalContainer__9UoeR\",\"emailTextField\":\"EmailField_component_emailTextField__Kw7nH\",\"emailModalItem\":\"EmailField_component_emailModalItem__eMo+b\",\"emailModalText\":\"EmailField_component_emailModalText__Z2ldL\",\"buttonContainer\":\"EmailField_component_buttonContainer__nbJor\"};","import { Tooltip } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst TooltipWrapper = _ref => {\n  let {\n    show,\n    content,\n    children\n  } = _ref;\n  if (!show) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n  }\n  return /*#__PURE__*/React.createElement(Tooltip, {\n    content: content\n  }, children);\n};\nTooltipWrapper.propTypes = {\n  children: PropTypes.node,\n  content: PropTypes.string,\n  show: PropTypes.bool\n};\nexport default TooltipWrapper;","import { useAlert, useDataMutation, useConfig } from '@dhis2/app-runtime';\nimport { Button, email as emailValidator } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../locales/index.js';\nimport userProfileStore from '../profile/profile.store.js';\nimport TooltipWrapper from './TooltipWrapper.js';\nconst sendEmailVerificationMutation = {\n  resource: 'account/sendEmailVerification',\n  type: 'create'\n};\nexport function VerifyEmail(_ref) {\n  let {\n    userEmail\n  } = _ref;\n  const errorAlert = useAlert(_ref2 => {\n    let {\n      message\n    } = _ref2;\n    return message;\n  }, {\n    critical: true\n  });\n  const successAlert = useAlert(_ref3 => {\n    let {\n      message\n    } = _ref3;\n    return message;\n  }, {\n    success: true\n  });\n  const {\n    systemInfo\n  } = useConfig();\n  const {\n    emailVerified\n  } = userProfileStore.state;\n  const [mutateEmailVerification, {\n    loading: mutationLoading\n  }] = useDataMutation(sendEmailVerificationMutation, {\n    onComplete: () => {\n      successAlert.show({\n        message: i18n.t('Email verification link sent successfully!')\n      });\n    },\n    onError: err => {\n      errorAlert.show({\n        message: err.message || i18n.t('Failed to send email verification link.')\n      });\n    }\n  });\n  const emailConfigured = systemInfo === null || systemInfo === void 0 ? void 0 : systemInfo.emailConfigured;\n  const isInvalidEmail = Boolean(emailValidator(userEmail));\n  if (!emailConfigured) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(TooltipWrapper, {\n    show: emailVerified || isInvalidEmail,\n    content: emailVerified ? i18n.t('Email already verified') : isInvalidEmail ? i18n.t('Email is invalid') : ''\n  }, /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    onClick: mutateEmailVerification,\n    disabled: mutationLoading || isInvalidEmail || !userEmail || emailVerified,\n    loading: mutationLoading\n  }, i18n.t('Verify email')));\n}\nVerifyEmail.propTypes = {\n  userEmail: PropTypes.string.isRequired\n};","import i18n from '@dhis2/d2-i18n';\nimport { Button, ButtonStrip, email as emailValidator, InputField, Modal, ModalActions, ModalContent, ModalTitle, NoticeBox } from '@dhis2/ui';\nimport TextField from 'd2-ui/lib/form-fields/TextField';\nimport PropTypes from 'prop-types';\nimport React, { useMemo, useState } from 'react';\nimport { Link } from 'react-router';\nimport userProfileStore from '../profile/profile.store.js';\nimport styles from './EmailField.component.module.css';\nimport TooltipWrapper from './TooltipWrapper.js';\nimport { VerifyEmail } from './VerifyEmail.component.js';\nconst getSaveDisabledContent = _ref => {\n  let {\n    newEmail,\n    emailValidationMessage\n  } = _ref;\n  if (!newEmail) {\n    return i18n.t('No email provided');\n  }\n  if (emailValidationMessage) {\n    return i18n.t('Email is invalid');\n  }\n  return i18n.t('Emails must match');\n};\nconst TwoFAWarningModal = _ref2 => {\n  let {\n    twoFAWarningModalOpen,\n    setTwoFAWarningModalOpen\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(Modal, {\n    hide: !twoFAWarningModalOpen,\n    onClose: () => setTwoFAWarningModalOpen(false)\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Email update not allowed')), /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(NoticeBox, {\n    className: styles.emailModalItem,\n    title: i18n.t('Your email is currently used for two factor authentication'),\n    warning: true\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.emailModalText\n  }, /*#__PURE__*/React.createElement(\"div\", null, i18n.t('To update your email, you must first disable two factor authentication by email. After this has been disabled, you can change your email and then set up two factor authentication again.')), /*#__PURE__*/React.createElement(Link, {\n    to: \"/twoFactor\"\n  }, /*#__PURE__*/React.createElement(\"div\", null, i18n.t('Disable two factor authentication here')))))), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n    end: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => setTwoFAWarningModalOpen(false),\n    secondary: true\n  }, i18n.t('Cancel')))));\n};\nTwoFAWarningModal.propTypes = {\n  setTwoFAWarningModalOpen: PropTypes.func,\n  twoFAWarningModalOpen: PropTypes.bool\n};\nconst RemoveModal = _ref3 => {\n  let {\n    removeModalOpen,\n    setRemoveModalOpen,\n    userEmailVerified,\n    onUpdate\n  } = _ref3;\n  return /*#__PURE__*/React.createElement(Modal, {\n    hide: !removeModalOpen,\n    onClose: () => setRemoveModalOpen(false)\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Remove email')), /*#__PURE__*/React.createElement(ModalContent, null, userEmailVerified && /*#__PURE__*/React.createElement(NoticeBox, {\n    className: styles.emailModalItem,\n    title: i18n.t('Your email is currently verified'),\n    warning: true\n  }), /*#__PURE__*/React.createElement(\"div\", null, i18n.t('Are you sure you want to remove your email?'))), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n    end: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => setRemoveModalOpen(false),\n    secondary: true\n  }, i18n.t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      onUpdate('');\n      setRemoveModalOpen(false);\n    },\n    destructive: true\n  }, i18n.t('Remove email')))));\n};\nRemoveModal.propTypes = {\n  removeModalOpen: PropTypes.bool,\n  setRemoveModalOpen: PropTypes.func,\n  userEmailVerified: PropTypes.bool,\n  onUpdate: PropTypes.func\n};\nconst EmailModal = _ref4 => {\n  let {\n    emailModalOpen,\n    setEmailModalOpen,\n    userEmailVerified,\n    userEmail,\n    onUpdate\n  } = _ref4;\n  const [newEmail, setNewEmail] = useState();\n  const [newEmailConfirm, setNewEmailConfirm] = useState();\n  const [newEmailConfirmTouched, setNewEmailConfirmTouched] = useState(false);\n  const emailValidationMessage = useMemo(() => emailValidator(newEmail), [newEmail]);\n  const emailsMatch = newEmail === newEmailConfirm;\n  const saveDisabled = !newEmail || Boolean(emailValidationMessage) || !emailsMatch;\n  const saveDisabledContent = getSaveDisabledContent({\n    newEmail,\n    emailValidationMessage\n  });\n  return /*#__PURE__*/React.createElement(Modal, {\n    hide: !emailModalOpen,\n    onClose: () => {\n      setEmailModalOpen(false);\n    }\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Change email')), /*#__PURE__*/React.createElement(ModalContent, null, userEmailVerified && /*#__PURE__*/React.createElement(NoticeBox, {\n    className: styles.emailModalItem,\n    title: i18n.t('Your email is currently verified'),\n    warning: true\n  }, i18n.t('If you change your email, you may need to reverify your email.')), /*#__PURE__*/React.createElement(InputField, {\n    label: i18n.t('Current email'),\n    value: (userEmail === null || userEmail === void 0 ? void 0 : userEmail.trim()) !== '' ? userEmail : i18n.t('no current email'),\n    type: \"email\",\n    disabled: true,\n    className: styles.emailModalItem\n  }), /*#__PURE__*/React.createElement(InputField, {\n    label: i18n.t('Enter new email'),\n    value: newEmail,\n    type: \"email\",\n    error: Boolean(emailValidationMessage),\n    validationText: emailValidationMessage,\n    onChange: newValue => setNewEmail(newValue.value),\n    className: styles.emailModalItem\n  }), /*#__PURE__*/React.createElement(InputField, {\n    label: i18n.t('Confirm new email'),\n    value: newEmailConfirm,\n    type: \"email\",\n    error: newEmailConfirmTouched && !emailsMatch,\n    validationText: emailsMatch || !newEmailConfirmTouched ? undefined : i18n.t('Emails must match'),\n    onChange: newValue => {\n      setNewEmailConfirmTouched(true);\n      setNewEmailConfirm(newValue.value);\n    },\n    className: styles.emailModalItem\n  })), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n    end: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => setEmailModalOpen(false),\n    secondary: true\n  }, i18n.t('Cancel')), /*#__PURE__*/React.createElement(TooltipWrapper, {\n    disabled: saveDisabled,\n    content: saveDisabledContent\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      onUpdate(newEmail);\n      setEmailModalOpen(false);\n      userProfileStore.state.emailVerified = false;\n      userProfileStore.setState(userProfileStore.state);\n    },\n    primary: true,\n    disabled: saveDisabled\n  }, i18n.t('Save'))))));\n};\nEmailModal.propTypes = {\n  emailModalOpen: PropTypes.bool,\n  setEmailModalOpen: PropTypes.func,\n  userEmail: PropTypes.string,\n  userEmailVerified: PropTypes.bool,\n  onUpdate: PropTypes.func\n};\nexport function EmailField(_ref5) {\n  let {\n    userEmail,\n    userEmailVerified,\n    twoFaByEmailInUse,\n    onUpdate\n  } = _ref5;\n  const [emailModalOpen, setEmailModalOpen] = useState();\n  const [removeModalOpen, setRemoveModalOpen] = useState();\n  const [twoFAWarningModalOpen, setTwoFAWarningModalOpen] = useState();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.emailModalContainer\n  }, /*#__PURE__*/React.createElement(TextField, {\n    value: userEmail,\n    disabled: true,\n    floatingLabelText: i18n.t('Email'),\n    style: {\n      width: '100%'\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.buttonContainer\n  }, /*#__PURE__*/React.createElement(VerifyEmail, {\n    userEmail: userEmail\n  }), /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    onClick: () => {\n      if (twoFaByEmailInUse) {\n        setTwoFAWarningModalOpen(true);\n      } else {\n        setEmailModalOpen(true);\n      }\n    }\n  }, i18n.t('Change email')), /*#__PURE__*/React.createElement(TooltipWrapper, {\n    show: !userEmail || (userEmail === null || userEmail === void 0 ? void 0 : userEmail.trim()) === '',\n    content: i18n.t('There is no email to remove')\n  }, /*#__PURE__*/React.createElement(Button, {\n    destructive: true,\n    onClick: () => {\n      if (twoFaByEmailInUse) {\n        setTwoFAWarningModalOpen(true);\n      } else {\n        setRemoveModalOpen(true);\n      }\n    },\n    disabled: !userEmail || (userEmail === null || userEmail === void 0 ? void 0 : userEmail.trim()) === ''\n  }, i18n.t('Remove email')))), emailModalOpen && /*#__PURE__*/React.createElement(EmailModal, {\n    emailModalOpen: emailModalOpen,\n    setEmailModalOpen: setEmailModalOpen,\n    userEmailVerified: userEmailVerified,\n    userEmail: userEmail,\n    onUpdate: onUpdate\n  }), /*#__PURE__*/React.createElement(RemoveModal, {\n    removeModalOpen: removeModalOpen,\n    setRemoveModalOpen: setRemoveModalOpen,\n    userEmailVerified: userEmailVerified,\n    onUpdate: onUpdate\n  }), /*#__PURE__*/React.createElement(TwoFAWarningModal, {\n    twoFAWarningModalOpen: twoFAWarningModalOpen,\n    setTwoFAWarningModalOpen: setTwoFAWarningModalOpen\n  }));\n}\nEmailField.propTypes = {\n  twoFaByEmailInUse: PropTypes.bool,\n  userEmail: PropTypes.string,\n  userEmailVerified: PropTypes.bool,\n  onUpdate: PropTypes.func\n};","import i18n from '@dhis2/d2-i18n';\nimport { NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport function VerifyEmailWarning(_ref) {\n  var _config$system$settin, _config$system, _config$system$settin2, _config$system$settin3, _ref2, _config$currentUser;\n  let {\n    config,\n    emailUpdated,\n    userEmail\n  } = _ref;\n  const enforceVerifiedEmail = (_config$system$settin = (_config$system = config.system) === null || _config$system === void 0 ? void 0 : (_config$system$settin2 = _config$system.settings) === null || _config$system$settin2 === void 0 ? void 0 : (_config$system$settin3 = _config$system$settin2.settings) === null || _config$system$settin3 === void 0 ? void 0 : _config$system$settin3.enforceVerifiedEmail) !== null && _config$system$settin !== void 0 ? _config$system$settin : false;\n  const emailNotVerified = (_ref2 = !((_config$currentUser = config.currentUser) !== null && _config$currentUser !== void 0 && _config$currentUser.emailVerified) || emailUpdated) !== null && _ref2 !== void 0 ? _ref2 : false;\n  if (enforceVerifiedEmail && emailNotVerified) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"noticebox-wrapper\"\n    }, /*#__PURE__*/React.createElement(NoticeBox, {\n      warning: true\n    }, (userEmail === null || userEmail === void 0 ? void 0 : userEmail.trim()) !== '' ? i18n.t('Your email is not verified. Please verify your email to continue using the system.') : i18n.t('Please provide an email and verify it to continue using the system.')));\n  }\n  return null;\n}\nVerifyEmailWarning.propTypes = {\n  config: PropTypes.shape({\n    currentUser: PropTypes.shape({\n      emailVerified: PropTypes.bool\n    }),\n    system: PropTypes.shape({\n      settings: PropTypes.shape({\n        settings: PropTypes.shape({\n          enforceVerifiedEmail: PropTypes.bool\n        })\n      })\n    })\n  }).isRequired,\n  emailUpdated: PropTypes.bool,\n  userEmail: PropTypes.string\n};","import Checkbox from 'd2-ui/lib/form-fields/CheckBox.component';\nimport DatePicker from 'd2-ui/lib/form-fields/DatePicker.component';\nimport SelectField from 'd2-ui/lib/form-fields/DropDown.component';\nimport TextField from 'd2-ui/lib/form-fields/TextField';\nimport FormBuilder from 'd2-ui/lib/forms/FormBuilder.component';\nimport { wordToValidatorMap } from 'd2-ui/lib/forms/Validators';\nimport log from 'loglevel';\nimport { Card, CardText } from 'material-ui/Card';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport AccountEditor from '../account/AccountEditor.component.js';\nimport userSettingsActions from '../app.actions.js';\nimport i18n from '../locales/index.js';\nimport optionValueStore from '../optionValue.store.js';\nimport userSettingsStore from '../settings/userSettings.store.js';\nimport userSettingsKeyMapping from '../userSettingsMapping.js';\nimport AvatarEditor from './AvatarEditor.component.js';\nimport { EmailField } from './EmailField.component.js';\nimport AppTheme from './theme.js';\nimport { VerifyEmailWarning } from './VerifyEmailWarning.js';\nconst styles = {\n  header: {\n    fontSize: 24,\n    fontWeight: 300,\n    color: AppTheme.rawTheme.palette.textColor,\n    padding: '24px 0 12px 16px'\n  },\n  card: {\n    marginTop: 8,\n    marginRight: '1rem',\n    padding: '0 1rem'\n  },\n  cardTitle: {\n    background: AppTheme.rawTheme.palette.primary2Color,\n    height: 62\n  },\n  cardTitleText: {\n    fontSize: 28,\n    fontWeight: 100,\n    color: AppTheme.rawTheme.palette.alternateTextColor\n  },\n  noHits: {\n    padding: '1rem',\n    marginTop: '1rem',\n    fontWeight: 300\n  },\n  userSettingsOverride: {\n    color: AppTheme.rawTheme.palette.primary1Color,\n    marginTop: -6,\n    fontSize: '0.8rem',\n    fontWeight: 400\n  },\n  menuIcon: {\n    color: '#757575'\n  },\n  menuLabel: {\n    position: 'relative',\n    top: -6,\n    marginLeft: 16\n  }\n};\nfunction wrapWithLabel(WrappedComponent, label) {\n  // eslint-disable-next-line react/display-name\n  return props => {\n    const labelStyle = styles.userSettingsOverride;\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(WrappedComponent, props), /*#__PURE__*/React.createElement(\"div\", {\n      style: labelStyle\n    }, label));\n  };\n}\n\n// Handles translation keys from d2-ui form validators\nfunction translateValidatorMessage(validatorMessage) {\n  switch (validatorMessage) {\n    case 'value_required':\n      return i18n.t('This field is required');\n    case 'value_should_be_a_url':\n      return i18n.t('This field should be a URL');\n    case 'value_should_be_list_of_urls':\n      return i18n.t('This field should contain a list of URLs');\n    case 'value_should_be_a_number':\n      return i18n.t('This field should be a number');\n    case 'value_should_be_a_positive_number':\n      return i18n.t('This field should be a positive number');\n    case 'value_should_be_an_email':\n      return i18n.t('This field should be an email');\n    case 'invalid_whats_app':\n      return i18n.t('Please enter a valid international phone number (+0123456789)');\n    default:\n      return validatorMessage;\n  }\n}\nfunction getNameValidator(name) {\n  if (wordToValidatorMap.has(name)) {\n    return {\n      validator: wordToValidatorMap.get(name),\n      message: translateValidatorMessage(wordToValidatorMap.get(name).message)\n    };\n  }\n  return false;\n}\nfunction createTextField(fieldBase, mapping) {\n  return Object.assign({}, fieldBase, {\n    props: Object.assign({}, fieldBase.props, {\n      changeEvent: 'onBlur',\n      multiLine: !!mapping.multiLine,\n      disabled: !!mapping.disabled\n    })\n  });\n}\n\n// eslint-disable-next-line max-params\nfunction createDateField(fieldBase, fieldName, mapping, valueStore) {\n  const state = valueStore.state;\n  return Object.assign({}, fieldBase, {\n    component: DatePicker,\n    value: state && state[fieldName] ? new Date(state[fieldName]) : '',\n    props: Object.assign({}, fieldBase.props, {\n      floatingLabelText: mapping.label,\n      dateFormat: userSettingsStore.state.keyDateFormat || 'yyyy-MM-dd',\n      textFieldStyle: {\n        width: '100%'\n      },\n      allowFuture: false\n    })\n  });\n}\nfunction createCheckBox(fieldBase, fieldName) {\n  return Object.assign({}, fieldBase, {\n    component: Checkbox,\n    props: {\n      value: '',\n      label: fieldBase.props.floatingLabelText,\n      style: fieldBase.props.style,\n      checked: fieldBase.value.toString() === 'true',\n      onChange: (e, v) => {\n        userSettingsActions.saveUserKey(fieldName, v ? 'true' : 'false');\n      }\n    }\n  });\n}\n\n// eslint-disable-next-line max-params\nfunction createDropDown(fieldBase, fieldName, valueStore, mapping) {\n  const value = valueStore.state[fieldName] || valueStore.state[fieldName] === false ? valueStore.state[fieldName].toString() : mapping.showSystemDefault ? 'system_default' : 'null';\n  const menuItems = (mapping.source ? optionValueStore.state && optionValueStore.state[mapping.source] || [] : Object.keys(mapping.options).map(id => {\n    const displayName = mapping.options[id];\n    return {\n      id,\n      displayName\n    };\n  })).slice();\n  const systemSettingValue = optionValueStore.state && optionValueStore.state.systemDefault && optionValueStore.state.systemDefault[fieldName];\n  let systemSettingLabel;\n  if (typeof systemSettingValue === 'boolean') {\n    systemSettingLabel = systemSettingValue ? i18n.t('Yes') : i18n.t('No');\n  } else if (optionValueStore.state[mapping.source]) {\n    systemSettingLabel = optionValueStore.state[mapping.source].filter(x => x.id === systemSettingValue).map(x => x.displayName)[0] || i18n.t('No value');\n  } else if (systemSettingValue === 'null' || systemSettingValue === 'system_default' || typeof systemSettingValue === 'undefined') {\n    systemSettingLabel = i18n.t('No value');\n  } else {\n    systemSettingLabel = systemSettingValue;\n  }\n  if (mapping.showSystemDefault) {\n    menuItems.unshift({\n      id: 'system_default',\n      // TODO: use i18n interpolation here\n      displayName: `${i18n.t('Use system default')} (${systemSettingLabel})`\n    });\n  }\n  return Object.assign({}, fieldBase, {\n    component: SelectField,\n    value,\n    props: Object.assign({}, fieldBase.props, {\n      includeEmpty: !!mapping.includeEmpty,\n      emptyLabel: mapping.includeEmpty ? mapping.emptyLabel : undefined,\n      noOptionsLabel: i18n.t('No options')\n    }, {\n      menuItems\n    })\n  });\n}\nfunction createAccountEditor(fieldBase, d2, valueStore) {\n  return Object.assign({}, fieldBase, {\n    component: AccountEditor,\n    props: {\n      d2,\n      username: valueStore.state.username\n    }\n  });\n}\nfunction createAvatarEditor(fieldBase, d2, valueStore) {\n  return Object.assign({}, fieldBase, {\n    component: AvatarEditor,\n    props: {\n      d2,\n      currentUser: valueStore.state\n    }\n  });\n}\nfunction createEmailField(_ref) {\n  var _d2$currentUser, _d2$currentUser2;\n  let {\n    fieldBase,\n    valueStore,\n    onUpdate,\n    d2\n  } = _ref;\n  return Object.assign({}, fieldBase, {\n    component: EmailField,\n    props: {\n      onUpdate: newEmail => {\n        onUpdate('email', newEmail);\n        onUpdate('emailUpdated', true);\n      },\n      userEmail: valueStore.state['email'] || '',\n      userEmailVerified: d2 === null || d2 === void 0 ? void 0 : (_d2$currentUser = d2.currentUser) === null || _d2$currentUser === void 0 ? void 0 : _d2$currentUser.emailVerified,\n      twoFaByEmailInUse: (d2 === null || d2 === void 0 ? void 0 : (_d2$currentUser2 = d2.currentUser) === null || _d2$currentUser2 === void 0 ? void 0 : _d2$currentUser2.twoFactorType) === 'EMAIL_ENABLED'\n    }\n  });\n}\nfunction createFieldBaseObject(fieldName, mapping, valueStore) {\n  if (!mapping) {\n    log.warn(`Mapping not found for field: ${fieldName}`);\n    return null; // Skip this field\n  }\n\n  const state = valueStore.state;\n  const hintText = mapping.hintText || '';\n  const valueString = Object.prototype.hasOwnProperty.call(state, fieldName) ? String(state[fieldName]).trim() : '';\n  const propsObject = {\n    floatingLabelText: mapping.label,\n    style: {\n      width: '100%'\n    },\n    hintText\n  };\n  const baseValidators = (mapping.validators || []).map(name => getNameValidator(name)).filter(v => v);\n  return Object.assign({}, {\n    name: fieldName,\n    value: valueString,\n    component: TextField,\n    props: propsObject,\n    validators: baseValidators\n  });\n}\nfunction createField(_ref2) {\n  let {\n    fieldName,\n    valueStore,\n    d2,\n    featureToggle,\n    onUpdate\n  } = _ref2;\n  const mapping = userSettingsKeyMapping[fieldName];\n  const fieldBase = createFieldBaseObject(fieldName, mapping, valueStore);\n  switch (mapping.type) {\n    case 'textfield':\n      return createTextField(fieldBase, mapping);\n    case 'date':\n      return createDateField(fieldBase, fieldName, mapping, valueStore);\n    case 'checkbox':\n      return createCheckBox(fieldBase, fieldName);\n    case 'dropdown':\n      return createDropDown(fieldBase, fieldName, valueStore, mapping);\n    case 'accountEditor':\n      return createAccountEditor(fieldBase, d2, valueStore);\n    case 'avatar':\n      return createAvatarEditor(fieldBase, d2, valueStore);\n    case 'emailModal':\n      return featureToggle !== null && featureToggle !== void 0 && featureToggle.emailFieldAsModal ? createEmailField({\n        fieldBase,\n        valueStore,\n        onUpdate,\n        d2\n      }) : createTextField(fieldBase, mapping);\n    default:\n      log.warn(`Unknown control type \"${mapping.type}\" encountered for field \"${fieldName}\"`);\n      return {};\n  }\n}\nfunction wrapFieldWithLabel(field) {\n  const mapping = userSettingsKeyMapping[field.name];\n\n  // For settings that have a system wide default value,\n  // and is overridden by the current user, display\n  // the system wide default under the current user\n  // setting (which may be the same value)\n  if (mapping.showSystemDefault && field.value && field.value !== null && field.value !== 'null' && Object.prototype.hasOwnProperty.call(optionValueStore.state.systemDefault, field.name)) {\n    const systemValue = optionValueStore.state.systemDefault[field.name];\n    const actualSystemValue = systemValue !== undefined && systemValue !== null && systemValue !== 'null';\n    let systemValueLabel = systemValue;\n    if (mapping.source && actualSystemValue) {\n      systemValueLabel = optionValueStore.state[mapping.source].find(item => item.id === systemValue).displayName;\n    } else if (field.props.menuItems && actualSystemValue) {\n      systemValueLabel = field.props.menuItems.find(item => item.id === systemValue || String(systemValue) === item.id).displayName;\n    } else {\n      systemValueLabel = mapping.options[systemValue];\n    }\n\n    // TODO: use i18n interpolation here\n    const systemDefaultLabel = `${i18n.t('System default')}: ${systemValueLabel}`;\n    return Object.assign(field, {\n      component: wrapWithLabel(field.component, systemDefaultLabel)\n    });\n  }\n  return field;\n}\nclass FormFields extends Component {\n  componentDidMount() {\n    this.disposable = this.props.valueStore.subscribe(() => {\n      this.forceUpdate();\n    });\n  }\n  componentWillUnmount() {\n    this.disposable.unsubscribe();\n  }\n  renderFields(fieldNames) {\n    const d2 = this.context.d2;\n    const featureToggle = this.context.featureToggle;\n    const valueStore = this.props.valueStore;\n    const onUpdate = this.props.onUpdateField;\n    // Create the regular fields\n    const fields = fieldNames.map(fieldName => createField({\n      fieldName,\n      valueStore,\n      d2,\n      featureToggle,\n      onUpdate\n    })).filter(field => !!field.name).map(field => wrapFieldWithLabel(field));\n    return /*#__PURE__*/React.createElement(Card, {\n      style: styles.card\n    }, /*#__PURE__*/React.createElement(CardText, null, /*#__PURE__*/React.createElement(FormBuilder, {\n      fields: fields,\n      onUpdateField: this.props.onUpdateField\n    })));\n  }\n  render() {\n    var _this$context, _this$props, _this$props$valueStor, _this$props$valueStor2, _this$props$valueStor3, _this$props2, _this$props2$valueSto, _this$props2$valueSto2;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content-area\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.header\n    }, this.props.pageLabel), /*#__PURE__*/React.createElement(\"form\", {\n      autoComplete: \"off\"\n    }, ((_this$context = this.context) === null || _this$context === void 0 ? void 0 : _this$context.d2) && this.props.showEmailWarning && /*#__PURE__*/React.createElement(VerifyEmailWarning, {\n      config: this.context.d2,\n      emailUpdated: (_this$props = this.props) === null || _this$props === void 0 ? void 0 : (_this$props$valueStor = _this$props.valueStore) === null || _this$props$valueStor === void 0 ? void 0 : (_this$props$valueStor2 = _this$props$valueStor.state) === null || _this$props$valueStor2 === void 0 ? void 0 : _this$props$valueStor2.emailUpdated,\n      userEmail: (_this$props$valueStor3 = (_this$props2 = this.props) === null || _this$props2 === void 0 ? void 0 : (_this$props2$valueSto = _this$props2.valueStore) === null || _this$props2$valueSto === void 0 ? void 0 : (_this$props2$valueSto2 = _this$props2$valueSto.state) === null || _this$props2$valueSto2 === void 0 ? void 0 : _this$props2$valueSto2.email) !== null && _this$props$valueStor3 !== void 0 ? _this$props$valueStor3 : ''\n    }), this.renderFields(this.props.fieldKeys)));\n  }\n}\nFormFields.propTypes = {\n  fieldKeys: PropTypes.arrayOf(PropTypes.string).isRequired,\n  pageLabel: PropTypes.string.isRequired,\n  valueStore: PropTypes.object.isRequired,\n  onUpdateField: PropTypes.func.isRequired,\n  showEmailWarning: PropTypes.bool\n};\nFormFields.contextTypes = {\n  d2: PropTypes.object.isRequired,\n  featureToggle: PropTypes.object.isRequired\n};\nexport default FormFields;","const PHONE_PATTERN = /^\\+(?:[0-9].?){4,14}[0-9]$/;\nexport default function isValidWhatsApp(value) {\n  // It's an optional field so empty is also valid\n  return !value || PHONE_PATTERN.test(value);\n}\nisValidWhatsApp.message = 'invalid_whats_app';","import { getInstance as getD2 } from 'd2';\nimport Action from 'd2-ui/lib/action/Action.js';\nimport { wordToValidatorMap } from 'd2-ui/lib/forms/Validators.js';\nimport log from 'loglevel';\nimport userSettingsActions from '../app.actions.js';\nimport i18n from '../locales/index.js';\nimport userSettingsKeyMapping from '../userSettingsMapping.js';\nimport isValidWhatsApp from './isValidWhatsApp.js';\nimport userProfileStore from './profile.store.js';\n\n// Add whatsApp validation to the validator set\nwordToValidatorMap.set('whats_app', isValidWhatsApp);\nconst userProfileActions = Action.createActionsFromNames(['save']);\nuserProfileActions.save.subscribe(_ref => {\n  let {\n    data,\n    complete,\n    error\n  } = _ref;\n  const [key, value] = data;\n  let payload = {\n    [key]: String(value).trim() || ' '\n  }; // TODO: Ugly hack to allow saving empty fields\n\n  if (key === 'birthday') {\n    const date = new Date(value);\n    payload = {\n      [key]: date.toISOString()\n    };\n  }\n  getD2().then(d2 => {\n    userProfileStore.state[key] = value;\n    userProfileStore.setState(userProfileStore.state);\n\n    // Run field validators\n    if (Array.isArray(userSettingsKeyMapping[key].validators)) {\n      const validators = userSettingsKeyMapping[key].validators;\n      if (!validators.reduce((prev, curr) => prev && wordToValidatorMap.get(curr)(value), true)) {\n        log.warn(`One or more validators did not pass for field \"${key}\" and value \"${value}\"`);\n        return;\n      }\n    }\n    getProfileUpdatePromise({\n      key,\n      value,\n      payload,\n      userId: userProfileStore.state.id,\n      d2\n    }).then(() => {\n      log.debug('User Profile updated successfully.');\n      userSettingsActions.showSnackbarMessage({\n        message: i18n.t('User profile updated'),\n        status: 'success'\n      });\n      complete();\n    }).catch(err => {\n      userSettingsActions.showSnackbarMessage({\n        message: i18n.t('Failed to update user profile'),\n        status: 'error'\n      });\n      log.error('Failed to update user profile:', err);\n      error();\n    });\n  });\n});\nfunction getProfileUpdatePromise(_ref2) {\n  let {\n    key,\n    value,\n    payload,\n    userId,\n    d2\n  } = _ref2;\n  const api = d2.Api.getApi();\n  if (key === 'avatar') {\n    if (value) {\n      // Set avatar\n      return api.update('me', {\n        avatar: {\n          id: value.id\n        }\n      });\n    } else {\n      // Clear avatar\n      return removeAvatar(userId, api);\n    }\n  }\n  return api.update('me', payload);\n}\nasync function removeAvatar(userId, api) {\n  const url = `/users/${userId}`;\n  const user = await api.get(url, {\n    fields: ':owner'\n  });\n  delete user.avatar;\n  return api.update(url, user);\n}\nexport default userProfileActions;","import React from 'react';\nimport FormFields from '../layout/FormFields.component.js';\nimport i18n from '../locales/index.js';\nimport userProfileActions from '../profile/profile.actions.js';\nimport userProfileStore from '../profile/profile.store.js';\nfunction EditProfile() {\n  const fieldKeys = ['accountEditor'];\n  const pageLabel = i18n.t('Edit account settings');\n  return /*#__PURE__*/React.createElement(FormFields, {\n    pageLabel: pageLabel,\n    fieldKeys: fieldKeys,\n    valueStore: userProfileStore,\n    onUpdateField: userProfileActions.save\n  });\n}\nexport default EditProfile;","import { FlatButton, Dialog } from 'material-ui';\nimport React from 'react';\nimport appActions from '../app.actions.js';\nimport i18n from '../locales/index.js';\n\n// In development environments this won't provide the correct behavior\n// because the app is hosted on a different port, but once an app is deployed\n// reloading the window with an invalidated session will redirect to the login page\nconst reload = () => {\n  appActions.setCategory('account');\n  window.location.reload(true);\n};\nfunction PasswordChangeSuccessDialog() {\n  const titleText = i18n.t('Password changed successfully');\n  const bodyText = i18n.t('You need to login again to continue using the application.');\n  const buttonText = i18n.t('Login');\n  const buttons = [/*#__PURE__*/React.createElement(FlatButton, {\n    label: buttonText,\n    primary: true,\n    onClick: reload,\n    key: buttonText\n  })];\n  return /*#__PURE__*/React.createElement(Dialog, {\n    title: titleText,\n    actions: buttons,\n    modal: true,\n    open: true\n  }, bodyText);\n}\nexport default PasswordChangeSuccessDialog;","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"TwoFactor_header__WTZxA\",\"container\":\"TwoFactor_container__6Vox6\",\"card\":\"TwoFactor_card__EteYe\",\"introductionText\":\"TwoFactor_introductionText__xV-OH\",\"emailVerificationWarning\":\"TwoFactor_emailVerificationWarning__4LFFI\",\"instructionsHeader\":\"TwoFactor_instructionsHeader__n1EBz\",\"twoFactorTypeToggle\":\"TwoFactor_twoFactorTypeToggle__Nu7fw\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"TwoFactorDisableNoticeBox_container__GLUEL\"};","import i18n from '@dhis2/d2-i18n';\nimport { NoticeBox } from '@dhis2/ui';\nimport React from 'react';\nimport styles from './TwoFactorDisableNoticeBox.module.css';\nconst TwoFactorDisableNoticeBox = () => /*#__PURE__*/React.createElement(NoticeBox, {\n  className: styles.container,\n  warning: true,\n  title: i18n.t('Remove two-factor account', {\n    keySeparator: '<|>'\n  })\n}, i18n.t('Two-factor authentication is now turned off. It is recommended to remove the account from your authenticator app now to prevent any future issues re-enabling two-factor authentication.', {\n  keySeparator: '<|>'\n}));\nexport default TwoFactorDisableNoticeBox;","// extracted by mini-css-extract-plugin\nexport default {\"enableNoticeContainer\":\"TwoFactorEnableNotice_enableNoticeContainer__i+J5I\",\"enableNoticeTitle\":\"TwoFactorEnableNotice_enableNoticeTitle__tkx9G\",\"enableNoticeBody\":\"TwoFactorEnableNotice_enableNoticeBody__QUJGU\"};","import i18n from '@dhis2/d2-i18n';\nimport { IconQuestion16 } from '@dhis2/ui';\nimport React from 'react';\nimport styles from './TwoFactorEnableNotice.module.css';\nconst TwoFactorEnableNotice = () => /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.enableNoticeContainer\n}, /*#__PURE__*/React.createElement(\"p\", {\n  className: styles.enableNoticeTitle\n}, /*#__PURE__*/React.createElement(IconQuestion16, null), i18n.t('Already set up two-factor authentication before?', {\n  keySeparator: '<|>'\n})), /*#__PURE__*/React.createElement(\"p\", {\n  className: styles.enableNoticeBody\n}, i18n.t('If you have set up two-factor authentication for this account before, you need to remove that entry from your authenticator app before setting it up again.', {\n  keySeparator: '<|>'\n})));\nexport default TwoFactorEnableNotice;","// extracted by mini-css-extract-plugin\nexport default {\"qrCode\":\"TwoFactorEnableInstructions_qrCode__WQZFf\",\"orderedList\":\"TwoFactorEnableInstructions_orderedList__lzJ82\",\"stepWithAction\":\"TwoFactorEnableInstructions_stepWithAction__UYmss\",\"buttonWithIcon\":\"TwoFactorEnableInstructions_buttonWithIcon__r1Q+T\",\"errorMessage\":\"TwoFactorEnableInstructions_errorMessage__JlOc1\",\"successMessage\":\"TwoFactorEnableInstructions_successMessage__fGrwQ\",\"sendNewCodeInstructions\":\"TwoFactorEnableInstructions_sendNewCodeInstructions__zP0yL\",\"sendNewCodeButton\":\"TwoFactorEnableInstructions_sendNewCodeButton__d+ku7\",\"downloadLink\":\"TwoFactorEnableInstructions_downloadLink__0Jr3Q\"};","import i18n from '@dhis2/d2-i18n';\nimport { Button, IconCheckmark16, IconErrorFilled24 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport userProfileStore from '../../profile/profile.store.js';\nimport styles from './TwoFactorEnableInstructions.module.css';\nconst TwoFactorEmailCodeButton = _ref => {\n  let {\n    onClick,\n    error,\n    loading,\n    success\n  } = _ref;\n  const emailAddress = userProfileStore.state.email;\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.stepWithAction\n  }, i18n.t('Send authentication code to your verified email address: {{emailAddress}}', {\n    emailAddress: emailAddress,\n    nsSeparator: '-:-'\n  }), success ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.successMessage\n  }, /*#__PURE__*/React.createElement(IconCheckmark16, {\n    color: '#1a5e20'\n  }), ' ', i18n.t('Authentication code sent')), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.sendNewCodeInstructions\n  }, i18n.t(\"If you didn't receive the code, check your spam/junk folder. Have you waited a few minutes and still not received the code?\") + ' ', /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.sendNewCodeButton,\n    onClick: onClick\n  }, i18n.t('Send a new code')))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.buttonWithIcon\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: onClick,\n    secondary: true,\n    loading: loading\n  }, i18n.t('Send authentication code')), error && /*#__PURE__*/React.createElement(IconErrorFilled24, {\n    color: '#d3302f'\n  })), error && /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.errorMessage\n  }, error)));\n};\nTwoFactorEmailCodeButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  error: PropTypes.string,\n  loading: PropTypes.bool,\n  success: PropTypes.bool\n};\nexport default TwoFactorEmailCodeButton;","import { useDataMutation } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport TwoFactorEmailCodeButton from './TwoFactorEmailCodeButton.js';\nimport styles from './TwoFactorEnableInstructions.module.css';\nconst enroll2FAViaEmailMutationDefinition = {\n  type: 'create',\n  resource: '/2fa/disable ',\n  data: {}\n};\nconst TwoFactorEmailDisableInstructions = () => {\n  var _turnOff2FAViaEmailMu, _turnOff2FAViaEmailMu2, _turnOff2FAViaEmailMu3, _turnOff2FAViaEmailMu4;\n  const [turnOff2FAViaEmail, turnOff2FAViaEmailMutation] = useDataMutation(enroll2FAViaEmailMutationDefinition);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"ol\", {\n    className: styles.orderedList\n  }, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(TwoFactorEmailCodeButton, {\n    onClick: turnOff2FAViaEmail,\n    loading: turnOff2FAViaEmailMutation.loading,\n    success: turnOff2FAViaEmailMutation.error && ((_turnOff2FAViaEmailMu = turnOff2FAViaEmailMutation.error.details) === null || _turnOff2FAViaEmailMu === void 0 ? void 0 : _turnOff2FAViaEmailMu.httpStatusCode) === 409,\n    error: ((_turnOff2FAViaEmailMu2 = turnOff2FAViaEmailMutation.error) === null || _turnOff2FAViaEmailMu2 === void 0 ? void 0 : (_turnOff2FAViaEmailMu3 = _turnOff2FAViaEmailMu2.details) === null || _turnOff2FAViaEmailMu3 === void 0 ? void 0 : _turnOff2FAViaEmailMu3.httpStatusCode) !== 409 && ((_turnOff2FAViaEmailMu4 = turnOff2FAViaEmailMutation.error) === null || _turnOff2FAViaEmailMu4 === void 0 ? void 0 : _turnOff2FAViaEmailMu4.message)\n  })), /*#__PURE__*/React.createElement(\"li\", null, i18n.t('Enter the 6 digit authentication code in the email.'))));\n};\nexport default TwoFactorEmailDisableInstructions;","import { useDataMutation } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport TwoFactorEmailCodeButton from './TwoFactorEmailCodeButton.js';\nimport styles from './TwoFactorEnableInstructions.module.css';\nconst enroll2FAViaEmailMutationDefinition = {\n  type: 'create',\n  resource: '/2fa/enrollEmail2FA ',\n  data: {}\n};\nconst TwoFactorEmailEnableInstructions = () => {\n  var _enroll2FAViaEmailMut;\n  const [enroll2FAViaEmail, enroll2FAViaEmailMutation] = useDataMutation(enroll2FAViaEmailMutationDefinition);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"ol\", {\n    className: styles.orderedList\n  }, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(TwoFactorEmailCodeButton, {\n    onClick: enroll2FAViaEmail,\n    error: (_enroll2FAViaEmailMut = enroll2FAViaEmailMutation.error) === null || _enroll2FAViaEmailMut === void 0 ? void 0 : _enroll2FAViaEmailMut.message,\n    loading: enroll2FAViaEmailMutation.loading,\n    success: enroll2FAViaEmailMutation.data\n  })), /*#__PURE__*/React.createElement(\"li\", null, i18n.t('Enter the 6 digit authentication code in the email.'))));\n};\nexport default TwoFactorEmailEnableInstructions;","// extracted by mini-css-extract-plugin\nexport default {\"instructionsHeader\":\"TwoFactorDisableInstructions_instructionsHeader__2u3m3\",\"orderedList\":\"TwoFactorDisableInstructions_orderedList__YGKXl\"};","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport styles from './TwoFactorDisableInstructions.module.css';\nconst TwoFactorOTPDisableInstructions = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"ol\", {\n  className: styles.orderedList\n}, /*#__PURE__*/React.createElement(\"li\", null, i18n.t('Open your authenticator app.', {\n  keySeparator: '<|>'\n})), /*#__PURE__*/React.createElement(\"li\", null, i18n.t('Now, enter the authentication code below and click the \"Turn off\" button.'))));\nexport default TwoFactorOTPDisableInstructions;","import { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport styles from './TwoFactorEnableInstructions.module.css';\nconst PlayStoreLink = () => /*#__PURE__*/React.createElement(\"a\", {\n  href: \"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2\",\n  rel: \"noopener noreferrer\"\n}, i18n.t('Play store'));\nconst AppStoreLink = () => /*#__PURE__*/React.createElement(\"a\", {\n  href: \"https://itunes.apple.com/app/google-authenticator/id388497605?mt=8\",\n  rel: \"noopener noreferrer\"\n}, i18n.t('App store'));\nconst QRCode = () => {\n  const {\n    baseUrl,\n    apiVersion\n  } = useConfig();\n  return /*#__PURE__*/React.createElement(\"img\", {\n    className: styles.qrCode,\n    alt: \"qrCode\",\n    src: `${baseUrl}/api/${apiVersion}/2fa/qrCode`\n  });\n};\nconst TwoFactorOTPEnableInstructions = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"ol\", {\n  className: styles.orderedList\n}, /*#__PURE__*/React.createElement(\"li\", null, i18n.t('Make sure you have an authenticator app installed on your device. We recommend Google Authenticator'), ' (', /*#__PURE__*/React.createElement(\"span\", {\n  className: styles.downloadLink\n}, /*#__PURE__*/React.createElement(PlayStoreLink, null)), ', ', /*#__PURE__*/React.createElement(\"span\", {\n  className: styles.downloadLink\n}, /*#__PURE__*/React.createElement(AppStoreLink, null)), ').'), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('Use the authenticator app to scan the QR code below:')), /*#__PURE__*/React.createElement(QRCode, null)), /*#__PURE__*/React.createElement(\"li\", null, i18n.t('Now, enter the code from your authenticator app below and click the \"Turn on\" button.'))));\nexport default TwoFactorOTPEnableInstructions;","import { useState, useEffect } from 'react';\nimport optionValueStore from '../../optionValue.store.js';\nimport userProfileStore from '../../profile/profile.store.js';\nexport const twoFactorAuthTypes = {\n  totp: 'totp',\n  email: 'email'\n};\nconst twoFactorBackendTypesToAuthTypes = {\n  TOTP_ENABLED: twoFactorAuthTypes.totp,\n  EMAIL_ENABLED: twoFactorAuthTypes.email,\n  totp2faEnabled: twoFactorAuthTypes.totp,\n  email2faEnabled: twoFactorAuthTypes.email\n};\nexport const getAvailableTwoFAType = BEAvailableTwoFAType => BEAvailableTwoFAType ? Object.entries(BEAvailableTwoFAType).filter(_ref => {\n  let [, value] = _ref;\n  return value;\n}) // Keep only entries where value is \"true\"\n.map(_ref2 => {\n  let [key] = _ref2;\n  return getTWOFAType(key);\n}).filter(type => type !== null) : [];\nexport const getTWOFAType = BETwoFAType => twoFactorBackendTypesToAuthTypes[BETwoFAType] || null;\nexport default function useTwoFaToggleMutation() {\n  const [enabledTwoFAType, setEnabledTwoFAType] = useState(getTWOFAType(userProfileStore.state.twoFactorType));\n  const [availableTwoFAType, setAvailableTwoFAType] = useState(getAvailableTwoFAType(optionValueStore === null || optionValueStore === void 0 ? void 0 : optionValueStore.state.twoFactorMethods));\n  const {\n    emailVerified\n  } = userProfileStore.state;\n  const resetTwoFactorType = twoFactorType => {\n    var _Object$entries$find;\n    const BETwoFactorBackendType = (_Object$entries$find = Object.entries(twoFactorBackendTypesToAuthTypes).find(_ref3 => {\n      let [, type] = _ref3;\n      return type === twoFactorType;\n    })) === null || _Object$entries$find === void 0 ? void 0 : _Object$entries$find[0];\n    userProfileStore.state.twoFactorType = enabledTwoFAType ? undefined : BETwoFactorBackendType;\n    userProfileStore.setState(userProfileStore.state);\n  };\n  useEffect(() => {\n    const subscription = userProfileStore.subscribe(_ref4 => {\n      let {\n        twoFactorType\n      } = _ref4;\n      setEnabledTwoFAType(getTWOFAType(twoFactorType));\n    });\n    return () => subscription.unsubscribe();\n  }, []);\n  useEffect(() => {\n    const subscription = optionValueStore.subscribe(_ref5 => {\n      let {\n        twoFactorMethods\n      } = _ref5;\n      setAvailableTwoFAType(getAvailableTwoFAType(twoFactorMethods));\n    });\n    return () => subscription.unsubscribe();\n  }, []);\n  return {\n    enabledTwoFAType,\n    availableTwoFAType,\n    resetTwoFactorType,\n    emailVerified\n  };\n}","import i18n from '@dhis2/d2-i18n';\nimport { NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Link } from 'react-router';\nimport styles from './TwoFactor.module.css';\nimport TwoFactorEmailDisableInstructions from './TwoFactorEmailDisableInstructions.js';\nimport TwoFactorEmailEnableInstructions from './TwoFactorEmailEnableInstructions.js';\nimport TwoFactorOTPDisableInstructions from './TwoFactorOTPDisableInstructions.js';\nimport TwoFactorOTPEnableInstructions from './TwoFactorOTPEnableInstructions.js';\nimport { twoFactorAuthTypes } from './useTwoFaToggleMutation.js';\nconst TwoFactorInstructions = _ref => {\n  let {\n    isTwoFaEnabled,\n    twoFactorAuthToToShow,\n    toggleEmail2faForbidden\n  } = _ref;\n  if (toggleEmail2faForbidden) {\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      warning: true,\n      className: styles.emailVerificationWarning\n    }, i18n.t('Your email is not verified. You must verify or your email to enable or disable two-factor authentication via email. If you have recently verified your email, you may need to refresh this page.'), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(Link, {\n      to: \"/profile\"\n    }, i18n.t('Verify your email here.')));\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, twoFactorAuthToToShow === twoFactorAuthTypes.totp && !isTwoFaEnabled && /*#__PURE__*/React.createElement(TwoFactorOTPEnableInstructions, null), twoFactorAuthToToShow === twoFactorAuthTypes.totp && isTwoFaEnabled && /*#__PURE__*/React.createElement(TwoFactorOTPDisableInstructions, null), twoFactorAuthToToShow === twoFactorAuthTypes.email && !isTwoFaEnabled && /*#__PURE__*/React.createElement(TwoFactorEmailEnableInstructions, null), twoFactorAuthToToShow === twoFactorAuthTypes.email && isTwoFaEnabled && /*#__PURE__*/React.createElement(TwoFactorEmailDisableInstructions, null));\n};\nTwoFactorInstructions.propTypes = {\n  isTwoFaEnabled: PropTypes.bool.isRequired,\n  toggleEmail2faForbidden: PropTypes.bool.isRequired,\n  twoFactorAuthToToShow: PropTypes.string\n};\nexport default TwoFactorInstructions;","// extracted by mini-css-extract-plugin\nexport default {\"statusHeader\":\"TwoFactorStatus_statusHeader__UCCG5\"};","import i18n from '@dhis2/d2-i18n';\nimport { NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './TwoFactorStatus.module.css';\nconst TwoFactorStatus = _ref => {\n  let {\n    isTwoFaEnabled\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.statusHeader\n  }, isTwoFaEnabled ? /*#__PURE__*/React.createElement(NoticeBox, {\n    valid: true\n  }, i18n.t('Two-factor authentication is on.', {\n    keySeparator: '<|>'\n  })) : /*#__PURE__*/React.createElement(NoticeBox, null, i18n.t('Two-factor authentication is off.', {\n    keySeparator: '<|>'\n  })));\n};\nTwoFactorStatus.propTypes = {\n  isTwoFaEnabled: PropTypes.bool.isRequired\n};\nexport default TwoFactorStatus;","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"TwoFactorToggler_container__CVEyM\"};","import i18n from '@dhis2/d2-i18n';\nimport { InputField, Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport styles from './TwoFactorToggler.module.css';\nconst allDigitsRegex = /^\\d+$/;\nconst getValidationText = (hasErrorState, error) => {\n  if (error) {\n    var _error$message;\n    return (_error$message = error === null || error === void 0 ? void 0 : error.message) !== null && _error$message !== void 0 ? _error$message : i18n.t('Could not update two-factor authentication', {\n      keySeparator: '<|>'\n    });\n  } else if (hasErrorState) {\n    return i18n.t('This code does not look right. Enter the six digit code from your authentication app.');\n  } else {\n    return undefined;\n  }\n};\nconst TwoFactorToggler = _ref => {\n  let {\n    error,\n    isTwoFaEnabled,\n    loading,\n    toggleTwoFa\n  } = _ref;\n  const [touched, setTouched] = useState(false);\n  const [twoFaConfirmationCode, setTwoFaConfirmationCode] = useState('');\n  const isTwoFaConfirmationCodeValid = typeof twoFaConfirmationCode === 'string' && twoFaConfirmationCode.length === 6 && allDigitsRegex.test(twoFaConfirmationCode);\n  const hasErrorState = !isTwoFaConfirmationCodeValid && touched || !!error;\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(InputField, {\n    value: twoFaConfirmationCode,\n    onChange: _ref2 => {\n      let {\n        value\n      } = _ref2;\n      return setTwoFaConfirmationCode(value);\n    },\n    onBlur: () => setTouched(true),\n    error: hasErrorState,\n    validationText: getValidationText(hasErrorState, error),\n    required: true,\n    disabled: loading,\n    inputWidth: \"200px\",\n    placeholder: i18n.t('6 digit code')\n  }), /*#__PURE__*/React.createElement(Button, {\n    disabled: !isTwoFaConfirmationCodeValid || loading,\n    onClick: () => {\n      toggleTwoFa({\n        code: twoFaConfirmationCode\n      });\n      setTouched(false);\n      setTwoFaConfirmationCode('');\n    },\n    primary: true,\n    type: \"submit\"\n  }, isTwoFaEnabled ? i18n.t('Turn off two-factor authentication', {\n    keySeparator: '<|>'\n  }) : i18n.t('Turn on two-factor authentication', {\n    keySeparator: '<|>'\n  })));\n};\nTwoFactorToggler.propTypes = {\n  isTwoFaEnabled: PropTypes.bool.isRequired,\n  toggleTwoFa: PropTypes.func.isRequired,\n  error: PropTypes.object,\n  loading: PropTypes.bool\n};\nexport default TwoFactorToggler;","import { useAlert, useDataMutation } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Card, SegmentedControl } from '@dhis2/ui';\nimport cx from 'classnames';\nimport React, { useMemo, useState } from 'react';\nimport styles from './TwoFactor.module.css';\nimport TwoFactorDisableNoticeBox from './TwoFactorDisableNoticeBox.js';\nimport TwoFactorEnableNotice from './TwoFactorEnableNotice.js';\nimport TwoFactorInstructions from './TwoFactorInstructions.js';\nimport TwoFactorStatus from './TwoFactorStatus.js';\nimport TwoFactorToggler from './TwoFactorToggler.js';\nimport useTwoFaToggleMutation, { twoFactorAuthTypes } from './useTwoFaToggleMutation.js';\nconst enableRadioLabels = {\n  [twoFactorAuthTypes.totp]: i18n.t('Authenticator app'),\n  [twoFactorAuthTypes.email]: i18n.t('Email')\n};\nconst mutationDefinitionBase = {\n  type: 'create',\n  data: _ref => {\n    let {\n      code\n    } = _ref;\n    return {\n      code\n    };\n  }\n};\nconst enableMutationDefinition = {\n  ...mutationDefinitionBase,\n  resource: '/2fa/enabled'\n};\nconst disableMutationDefinition = {\n  ...mutationDefinitionBase,\n  resource: '/2fa/disabled'\n};\nconst getAlertMessage = _ref2 => {\n  let {\n    attemptingToEnableTwoFa,\n    error\n  } = _ref2;\n  if (attemptingToEnableTwoFa) {\n    if (error) {\n      var _error$message;\n      return (_error$message = error === null || error === void 0 ? void 0 : error.message) !== null && _error$message !== void 0 ? _error$message : i18n.t('Could not enable two factor authentication');\n    } else {\n      return i18n.t('Two factor authentication was enabled successfully');\n    }\n  } else {\n    if (error) {\n      var _error$message2;\n      return (_error$message2 = error === null || error === void 0 ? void 0 : error.message) !== null && _error$message2 !== void 0 ? _error$message2 : i18n.t('Could not disable two factor authentication');\n    } else {\n      return i18n.t('Two factor authentication was disabled successfully');\n    }\n  }\n};\nconst getAlertOptions = _ref3 => {\n  let {\n    error\n  } = _ref3;\n  return error ? {\n    critical: true\n  } : {\n    success: true\n  };\n};\nconst TwoFactor = () => {\n  const {\n    enabledTwoFAType,\n    availableTwoFAType,\n    resetTwoFactorType,\n    emailVerified\n  } = useTwoFaToggleMutation();\n  const defaultTwoFactorAuthToShow = enabledTwoFAType || availableTwoFAType.length > 0 && availableTwoFAType[0] || null;\n  const [twoFactorAuthToToShow, setTwoFactorAuthToShow] = useState(defaultTwoFactorAuthToShow);\n  const [lastActionWasTwoFaDisableSuccess, setLastActionWasTwoFaDisableSuccess] = useState(false);\n  const toggleEmail2faForbidden = twoFactorAuthToToShow === twoFactorAuthTypes.email && !emailVerified;\n  const {\n    show: showAlert\n  } = useAlert(getAlertMessage, getAlertOptions);\n  const mutationOptions = useMemo(() => {\n    const attemptingToEnableTwoFa = enabledTwoFAType === null;\n    return {\n      onComplete: () => {\n        resetTwoFactorType(twoFactorAuthToToShow);\n        twoFactorAuthToToShow === twoFactorAuthTypes.totp && setLastActionWasTwoFaDisableSuccess(!attemptingToEnableTwoFa);\n        showAlert({\n          attemptingToEnableTwoFa\n        });\n      },\n      onError: error => {\n        console.error(error);\n        setLastActionWasTwoFaDisableSuccess(false);\n        showAlert({\n          attemptingToEnableTwoFa,\n          error\n        });\n      }\n    };\n  }, [enabledTwoFAType, showAlert, twoFactorAuthToToShow, resetTwoFactorType]);\n  const enableDataMutation = useDataMutation(enableMutationDefinition, mutationOptions);\n  const disableDataMutation = useDataMutation(disableMutationDefinition, mutationOptions);\n  const [toggleTwoFa, currentMutation] = enabledTwoFAType ? disableDataMutation : enableDataMutation;\n  const loading = currentMutation.loading || currentMutation.fetching;\n  const error = currentMutation.error;\n  const isTwoFaEnabled = enabledTwoFAType !== null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('content-area', styles.container)\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.header\n  }, i18n.t('Two-factor Authentication', {\n    keySeparator: '<|>'\n  })), /*#__PURE__*/React.createElement(Card, {\n    className: styles.card\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.introductionText\n  }, i18n.t('Two-factor authentication protects your account with an extra layer of security. With two-factor authentication turned on, you will need to enter an authentication code every time you log in.', {\n    keySeparator: '<|>'\n  })), /*#__PURE__*/React.createElement(TwoFactorStatus, {\n    isTwoFaEnabled: isTwoFaEnabled\n  }), isTwoFaEnabled ? /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.instructionsHeader\n  }, i18n.t('Turn off two-factor authentication', {\n    keySeparator: '<|>'\n  })) : /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.instructionsHeader\n  }, i18n.t('Turn on two-factor authentication', {\n    keySeparator: '<|>'\n  })), (availableTwoFAType === null || availableTwoFAType === void 0 ? void 0 : availableTwoFAType.length) > 1 && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.twoFactorTypeToggle\n  }, /*#__PURE__*/React.createElement(SegmentedControl, {\n    options: availableTwoFAType.map(twoFactorType => ({\n      value: twoFactorType,\n      label: enableRadioLabels[twoFactorType],\n      disabled: enabledTwoFAType\n    })),\n    selected: twoFactorAuthToToShow || availableTwoFAType[0],\n    onChange: _ref4 => {\n      let {\n        value\n      } = _ref4;\n      setTwoFactorAuthToShow(value);\n    },\n    disabled: enabledTwoFAType,\n    ariaLabel: i18n.t('Two factor authentication type')\n  })), /*#__PURE__*/React.createElement(TwoFactorInstructions, {\n    isTwoFaEnabled: isTwoFaEnabled,\n    twoFactorAuthToToShow: twoFactorAuthToToShow,\n    toggleEmail2faForbidden: toggleEmail2faForbidden\n  }), twoFactorAuthToToShow && !toggleEmail2faForbidden && /*#__PURE__*/React.createElement(TwoFactorToggler, {\n    isTwoFaEnabled: isTwoFaEnabled,\n    toggleTwoFa: toggleTwoFa,\n    error: error,\n    loading: loading\n  }), lastActionWasTwoFaDisableSuccess && twoFactorAuthToToShow === twoFactorAuthTypes.totp && /*#__PURE__*/React.createElement(TwoFactorDisableNoticeBox, null), enabledTwoFAType === null && !lastActionWasTwoFaDisableSuccess && twoFactorAuthToToShow === twoFactorAuthTypes.totp && /*#__PURE__*/React.createElement(TwoFactorEnableNotice, null)));\n};\nexport default TwoFactor;","// extracted by mini-css-extract-plugin\nexport default {\"introductionText\":\"TwoFactorIntroduction_introductionText__KYKXy\"};","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport styles from './TwoFactorIntroduction.module.css';\nconst TwoFactorIntroduction = () => /*#__PURE__*/React.createElement(\"p\", {\n  className: styles.introductionText\n}, i18n.t('Two-factor authentication protects your account with an extra layer of security. With two-factor authentication turned on, you will need to enter an authentication code from your device every time you log in.', {\n  keySeparator: '<|>'\n}));\nexport default TwoFactorIntroduction;","import { useDataMutation, useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { useMemo, useState, useEffect } from 'react';\nimport userProfileStore from '../../profile/profile.store.js';\nconst mutationDefinitionBase = {\n  type: 'create',\n  data: _ref => {\n    let {\n      code\n    } = _ref;\n    return {\n      code\n    };\n  }\n};\nconst enableMutationDefinition = {\n  ...mutationDefinitionBase,\n  resource: '/2fa/enabled'\n};\nconst disableMutationDefinition = {\n  ...mutationDefinitionBase,\n  resource: '/2fa/disabled'\n};\nconst getAlertMessage = _ref2 => {\n  let {\n    attemptingToEnableTwoFa,\n    error\n  } = _ref2;\n  if (attemptingToEnableTwoFa) {\n    if (error) {\n      var _error$message;\n      return (_error$message = error === null || error === void 0 ? void 0 : error.message) !== null && _error$message !== void 0 ? _error$message : i18n.t('Could not enable 2 Factor Authentication');\n    } else {\n      return i18n.t('Two factor authentication was enabled successfully');\n    }\n  } else {\n    if (error) {\n      var _error$message2;\n      return (_error$message2 = error === null || error === void 0 ? void 0 : error.message) !== null && _error$message2 !== void 0 ? _error$message2 : i18n.t('Could not disable two factor authentication');\n    } else {\n      return i18n.t('Two factor authentication was disabled successfully');\n    }\n  }\n};\nconst getAlertOptions = _ref3 => {\n  let {\n    error\n  } = _ref3;\n  return error ? {\n    critical: true\n  } : {\n    success: true\n  };\n};\nexport default function useTwoFaToggleMutation41AndLower() {\n  const [isTwoFaEnabled, setIsTwoFaEnabled] = useState(userProfileStore.state.twoFaEnabled);\n  const [lastActionWasTwoFaDisableSuccess, setLastActionWasTwoFaDisableSuccess] = useState(false);\n  const {\n    show: showAlert\n  } = useAlert(getAlertMessage, getAlertOptions);\n  const mutationOptions = useMemo(() => {\n    const attemptingToEnableTwoFa = !isTwoFaEnabled;\n    return {\n      onComplete: () => {\n        userProfileStore.state.twoFaEnabled = attemptingToEnableTwoFa;\n        userProfileStore.setState(userProfileStore.state);\n        setLastActionWasTwoFaDisableSuccess(!attemptingToEnableTwoFa);\n        showAlert({\n          attemptingToEnableTwoFa\n        });\n      },\n      onError: error => {\n        console.error(error);\n        setLastActionWasTwoFaDisableSuccess(false);\n        showAlert({\n          attemptingToEnableTwoFa,\n          error\n        });\n      }\n    };\n  }, [isTwoFaEnabled, showAlert]);\n  const enableDataMutation = useDataMutation(enableMutationDefinition, mutationOptions);\n  const disableDataMutation = useDataMutation(disableMutationDefinition, mutationOptions);\n  const [toggleTwoFa, currentMutation] = isTwoFaEnabled ? disableDataMutation : enableDataMutation;\n  useEffect(() => {\n    const subscription = userProfileStore.subscribe(_ref4 => {\n      let {\n        twoFaEnabled\n      } = _ref4;\n      setIsTwoFaEnabled(twoFaEnabled);\n    });\n    return () => subscription.unsubscribe();\n  }, []);\n  return {\n    isTwoFaEnabled,\n    loading: currentMutation.loading || currentMutation.fetching,\n    error: currentMutation.error,\n    toggleTwoFa,\n    lastActionWasTwoFaDisableSuccess\n  };\n}","import i18n from '@dhis2/d2-i18n';\nimport { Card } from '@dhis2/ui';\nimport cx from 'classnames';\nimport React from 'react';\nimport styles from './TwoFactor.module.css';\nimport TwoFactorDisableNoticeBox from './TwoFactorDisableNoticeBox.js';\nimport TwoFactorEnableNotice from './TwoFactorEnableNotice.js';\nimport TwoFactorIntroduction from './TwoFactorIntroduction.js';\nimport TwoFactorOTPDisableInstructions from './TwoFactorOTPDisableInstructions.js';\nimport TwoFactorOTPEnableInstructions from './TwoFactorOTPEnableInstructions.js';\nimport TwoFactorStatus from './TwoFactorStatus.js';\nimport TwoFactorToggler from './TwoFactorToggler.js';\nimport useTwoFaToggleMutation41AndLower from './useTwoFaToggleMutation41AndLower.js';\nconst TwoFactor41AndLower = () => {\n  const {\n    isTwoFaEnabled,\n    toggleTwoFa,\n    loading,\n    error,\n    lastActionWasTwoFaDisableSuccess\n  } = useTwoFaToggleMutation41AndLower();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('content-area', styles.container)\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.header\n  }, i18n.t('Two-factor Authentication', {\n    keySeparator: '<|>'\n  })), /*#__PURE__*/React.createElement(Card, {\n    className: styles.card\n  }, /*#__PURE__*/React.createElement(TwoFactorIntroduction, null), /*#__PURE__*/React.createElement(TwoFactorStatus, {\n    isTwoFaEnabled: isTwoFaEnabled\n  }), lastActionWasTwoFaDisableSuccess && /*#__PURE__*/React.createElement(TwoFactorDisableNoticeBox, null), isTwoFaEnabled ? /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.instructionsHeader\n  }, i18n.t('Turn off two-factor authentication', {\n    keySeparator: '<|>'\n  })) : /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.instructionsHeader\n  }, i18n.t('Turn on two-factor authentication', {\n    keySeparator: '<|>'\n  })), isTwoFaEnabled ? /*#__PURE__*/React.createElement(TwoFactorOTPDisableInstructions, null) : /*#__PURE__*/React.createElement(TwoFactorOTPEnableInstructions, null), /*#__PURE__*/React.createElement(TwoFactorToggler, {\n    isTwoFaEnabled: isTwoFaEnabled,\n    toggleTwoFa: toggleTwoFa,\n    error: error,\n    loading: loading\n  }), !isTwoFaEnabled && !lastActionWasTwoFaDisableSuccess && /*#__PURE__*/React.createElement(TwoFactorEnableNotice, null)));\n};\nexport default TwoFactor41AndLower;","import Sidebar from 'd2-ui/lib/sidebar/Sidebar.component.js';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { getTWOFAType } from '../account/twoFactor/useTwoFaToggleMutation.js';\nimport appActions from '../app.actions.js';\nimport i18n from '../locales/index.js';\nimport optionValueStore from '../optionValue.store.js';\nimport userProfileStore from '../profile/profile.store.js';\nfunction SidebarWrapper(props) {\n  const twoFactorMethods = optionValueStore === null || optionValueStore === void 0 ? void 0 : optionValueStore.state.twoFactorMethods;\n  const hasEnabledTwoFactorMethods = !!getTWOFAType(userProfileStore.state.twoFactorType);\n  const hasTwoFactorMethods = twoFactorMethods ? Object.values(twoFactorMethods).some(Boolean) : false;\n  const showTwoFactorMethods = !props.twoFactorAuthByType || hasTwoFactorMethods || hasEnabledTwoFactorMethods;\n  const sideBarSections = [{\n    key: 'profile',\n    label: i18n.t('User profile'),\n    icon: 'create'\n  }, {\n    key: 'settings',\n    label: i18n.t('User settings'),\n    icon: 'build'\n  }, {\n    key: 'account',\n    label: i18n.t('Account settings'),\n    icon: 'settings'\n  }, showTwoFactorMethods ? {\n    key: 'twoFactor',\n    label: i18n.t('Two factor authentication'),\n    icon: 'phonelink_lock'\n  } : undefined, {\n    key: 'viewProfile',\n    label: i18n.t('Full profile'),\n    icon: 'face'\n  }, {\n    key: 'personalAccessTokens',\n    label: i18n.t('Personal access tokens'),\n    icon: 'badge'\n  }, {\n    key: 'aboutPage',\n    label: i18n.t('About DHIS2'),\n    icon: 'public'\n  }].filter(section => section);\n  return /*#__PURE__*/React.createElement(Sidebar, {\n    sections: sideBarSections,\n    onChangeSection: appActions.setCategory,\n    currentSection: props.currentSection\n  });\n}\nSidebarWrapper.propTypes = {\n  currentSection: PropTypes.string,\n  twoFactorAuthByType: PropTypes.bool\n};\nSidebarWrapper.defaultProps = {\n  currentSection: 'profile',\n  twoFactorAuthByType: true\n};\nexport default SidebarWrapper;","function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport Snackbar from 'material-ui/Snackbar';\nimport React, { Component } from 'react';\nimport appActions from '../app.actions.js';\nconst messageStatus = {\n  warning: {\n    backgroundColor: '#FFA726'\n  },\n  error: {\n    backgroundColor: '#EF5350'\n  },\n  neutral: {\n    backgroundColor: 'black'\n  },\n  success: {\n    backgroundColor: '#9CCC65'\n  }\n};\nconst DEFAULT_AUTOHIDE_DURATION = 1250;\nclass SnackWrapper extends Component {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"state\", {\n      snackbarMessage: '',\n      showSnackbar: false,\n      messageStatus: messageStatus['neutral'],\n      autoHideDuration: DEFAULT_AUTOHIDE_DURATION\n    });\n    _defineProperty(this, \"closeSnackbar\", () => {\n      this.setState({\n        showSnackbar: false\n      });\n    });\n  }\n  componentDidMount() {\n    this.subscriptions = [];\n    this.subscriptions.push(appActions.showSnackbarMessage.subscribe(params => {\n      const message = params.data.message;\n      const status = params.data.status ? params.data.status : 'neutral';\n      const autoHideDuration = params.data.permanent ? undefined : DEFAULT_AUTOHIDE_DURATION;\n      this.setState({\n        snackbarMessage: message,\n        showSnackbar: !!message,\n        messageStatus: messageStatus[status],\n        autoHideDuration\n      });\n    }));\n  }\n  componentWillUnmount() {\n    this.subscriptions.forEach(sub => {\n      sub.unsubscribe();\n    });\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(Snackbar, {\n      message: this.state.snackbarMessage,\n      autoHideDuration: this.state.autoHideDuration,\n      bodyStyle: this.state.messageStatus,\n      open: this.state.showSnackbar,\n      onRequestClose: this.closeSnackbar\n    });\n  }\n}\nexport default SnackWrapper;","// extracted by mini-css-extract-plugin\nexport default {\"noticeBox\":\"AuthoritiesWarning_noticeBox__gAwwf\"};","import { useDataQuery } from '@dhis2/app-runtime';\nimport { CenteredContent, CircularLoader, NoticeBox, Button } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport styles from './AuthoritiesWarning.module.css';\nconst query = {\n  authorities: {\n    resource: 'me',\n    params: {\n      fields: ['authorities']\n    }\n  }\n};\nconst AuthoritiesWarning = () => {\n  const {\n    loading,\n    error,\n    data,\n    refetch\n  } = useDataQuery(query);\n  if (loading) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, {\n      small: true\n    }));\n  }\n  if (error) {\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      className: styles.noticeBox,\n      error: true,\n      title: i18n.t('Error fetching your authorities')\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: refetch\n    }, i18n.t('Retry loading authorities')));\n  }\n  return /*#__PURE__*/React.createElement(NoticeBox, {\n    className: styles.noticeBox,\n    warning: true,\n    title: i18n.t('This token will have the following authorities')\n  }, /*#__PURE__*/React.createElement(\"ul\", null, data.authorities.authorities.map(authority => /*#__PURE__*/React.createElement(\"li\", {\n    key: authority\n  }, authority))));\n};\nexport default AuthoritiesWarning;","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"AllowedMethodsFF_header__K0F2u\",\"helpText\":\"AllowedMethodsFF_helpText__OZtdE\"};","import { ReactFinalForm, CheckboxFieldFF } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport styles from './AllowedMethodsFF.module.css';\nconst AllowedMethodsFF = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n  className: styles.header\n}, i18n.t('Allowed HTTP methods')), /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n  name: \"allowedMethodsGET\",\n  label: i18n.t('GET', {\n    context: 'HTTP method'\n  }),\n  type: \"checkbox\",\n  component: CheckboxFieldFF,\n  initialValue: true\n}), /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n  name: \"allowedMethodsPOST\",\n  label: i18n.t('POST', {\n    context: 'HTTP method'\n  }),\n  type: \"checkbox\",\n  component: CheckboxFieldFF,\n  initialValue: false\n}), /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n  name: \"allowedMethodsPUT\",\n  label: i18n.t('PUT', {\n    context: 'HTTP method'\n  }),\n  type: \"checkbox\",\n  component: CheckboxFieldFF,\n  initialValue: false\n}), /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n  name: \"allowedMethodsPATCH\",\n  label: i18n.t('PATCH', {\n    context: 'HTTP method'\n  }),\n  type: \"checkbox\",\n  component: CheckboxFieldFF,\n  initialValue: false\n}), /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n  name: \"allowedMethodsDELETE\",\n  label: i18n.t('DELETE', {\n    context: 'HTTP method'\n  }),\n  type: \"checkbox\",\n  component: CheckboxFieldFF,\n  initialValue: false\n}), /*#__PURE__*/React.createElement(\"small\", {\n  className: styles.helpText\n}, i18n.t('Only choose the HTTP methods this token needs to allow.')));\nexport default AllowedMethodsFF;","import { ReactFinalForm, TextAreaFieldFF } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nconst isValidUrl = url => {\n  try {\n    const parsedUrl = new URL(url);\n    return ['http:', 'https:'].includes(parsedUrl.protocol);\n  } catch (error) {\n    return false;\n  }\n};\nconst referrerValidator = value => {\n  if (!value) {\n    return;\n  }\n  const referrers = value.split('\\n').filter(referrer => referrer.trim() !== '');\n  for (const referrer of referrers) {\n    if (!isValidUrl(referrer)) {\n      return i18n.t(`Invalid referrer '{{- referrer}}'`, {\n        referrer\n      });\n    }\n  }\n};\nconst AllowedReferrersFF = () => /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n  name: \"allowedReferrers\",\n  label: i18n.t('Allowed referrers'),\n  component: TextAreaFieldFF,\n  helpText: i18n.t('List one referrer per line.'),\n  rows: 3,\n  validate: referrerValidator\n});\nexport default AllowedReferrersFF;","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"ExpirationDateFF_container__fA7ZQ\",\"flex\":\"ExpirationDateFF_flex__SasW7\",\"expirationDateText\":\"ExpirationDateFF_expirationDateText__mnmiJ\"};","import moment from 'moment';\nconst getTokenExpirationDate = value => {\n  const today = moment();\n  switch (value) {\n    case '7_DAYS':\n      return today.add(7, 'days');\n    case '30_DAYS':\n      return today.add(30, 'days');\n    case '60_DAYS':\n      return today.add(60, 'days');\n    case '90_DAYS':\n      return today.add(90, 'days');\n    default:\n      throw new Error(`Unknown expiration date input value: '${value}'`);\n  }\n};\nexport default getTokenExpirationDate;","import { ReactFinalForm, hasValue, composeValidators, InputFieldFF, SingleSelectFieldFF } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport styles from './ExpirationDateFF.module.css';\nimport getTokenExpirationDate from './getTokenExpirationDate.js';\nconst futureDateValidator = value => {\n  if (!value) {\n    return null;\n  }\n  if (new Date(value) < new Date()) {\n    return i18n.t('Token expiration date must be in the future');\n  }\n};\nconst expirationTimeOptions = [{\n  value: '7_DAYS',\n  label: i18n.t('7 days')\n}, {\n  value: '30_DAYS',\n  label: i18n.t('30 days')\n}, {\n  value: '60_DAYS',\n  label: i18n.t('60 days')\n}, {\n  value: '90_DAYS',\n  label: i18n.t('90 days')\n}, {\n  value: 'CUSTOM',\n  label: i18n.t('Custom...')\n}];\nconst renderExpirationDate = value => {\n  if (!value || value === 'CUSTOM') {\n    return null;\n  }\n  return i18n.t('The token will expire on {{- tokenExpirationDate}}.', {\n    tokenExpirationDate: getTokenExpirationDate(value).format('LL')\n  });\n};\nconst ExpirationDateFF = _ref => {\n  let {\n    values\n  } = _ref;\n  const value = values['expirationDate'];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n    required: true,\n    name: \"expirationDate\",\n    label: i18n.t('Expiration (required)'),\n    initialValue: '30_DAYS',\n    component: SingleSelectFieldFF,\n    options: expirationTimeOptions,\n    validate: hasValue,\n    helpText: renderExpirationDate(value)\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.flex\n  }, value === 'CUSTOM' && /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n    required: true,\n    name: \"customExpirationDate\",\n    label: i18n.t('Custom expiration date (required)'),\n    type: \"date\",\n    component: InputFieldFF,\n    options: expirationTimeOptions,\n    validate: composeValidators(hasValue, futureDateValidator)\n  })));\n};\nExpirationDateFF.propTypes = {\n  values: PropTypes.object.isRequired\n};\nexport default ExpirationDateFF;","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"Form_header__wyhkW\",\"field\":\"Form_field__nMaA3\",\"fieldWithExplanation\":\"Form_fieldWithExplanation__y1zg5 Form_field__nMaA3\",\"explanation\":\"Form_explanation__tznNB\"};","import { IconWarning16 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport AllowedMethodsFF from './AllowedMethodsFF.component.js';\nimport AllowedReferrersFF from './AllowedReferrersFF.component.js';\nimport ExpirationDateFF from './ExpirationDateFF.component.js';\nimport styles from './Form.module.css';\nconst BrowserForm = _ref => {\n  let {\n    values\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.field\n  }, /*#__PURE__*/React.createElement(ExpirationDateFF, {\n    values: values\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.fieldWithExplanation\n  }, /*#__PURE__*/React.createElement(AllowedReferrersFF, null), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.explanation\n  }, /*#__PURE__*/React.createElement(IconWarning16, null), i18n.t('Important: this is not a security feature. The referrer header can easily be spoofed. This setting is intended to discourage unauthorised third-party developers from connecting to public access instances.', {\n    nsSeparator: '-:-'\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.field\n  }, /*#__PURE__*/React.createElement(AllowedMethodsFF, null)));\n};\nBrowserForm.propTypes = {\n  values: PropTypes.object.isRequired\n};\nexport default BrowserForm;","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"ContextSelector_header__DyiTZ\",\"contexts\":\"ContextSelector_contexts__wo7EV\",\"context\":\"ContextSelector_context__fTTd5\",\"selectedContext\":\"ContextSelector_selectedContext__s7x0d ContextSelector_context__fTTd5\",\"contextTitle\":\"ContextSelector_contextTitle__0cm+i\",\"contextDescription\":\"ContextSelector_contextDescription__JFdMY\"};","import { Radio } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport styles from './ContextSelector.module.css';\nconst Context = _ref => {\n  let {\n    title,\n    children,\n    selected,\n    onSelect\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: selected ? styles.selectedContext : styles.context,\n    onClick: onSelect\n  }, /*#__PURE__*/React.createElement(Radio, {\n    checked: selected,\n    onChange: onSelect,\n    dense: true\n  }), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h3\", {\n    className: styles.contextTitle\n  }, title), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.contextDescription\n  }, children)));\n};\nContext.propTypes = {\n  children: PropTypes.node.isRequired,\n  selected: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n  onSelect: PropTypes.func.isRequired\n};\nconst ContextSelector = _ref2 => {\n  let {\n    context,\n    setContext\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n    className: styles.header\n  }, i18n.t('Choose the context where this token will be used.')), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.contexts\n  }, /*#__PURE__*/React.createElement(Context, {\n    title: i18n.t('Server/script context'),\n    selected: context === 'SERVER',\n    onSelect: () => setContext('SERVER')\n  }, i18n.t(`Used for integrations and scripts that won't be accessed by a browser.`)), /*#__PURE__*/React.createElement(Context, {\n    title: i18n.t('Browser context'),\n    selected: context === 'BROWSER',\n    onSelect: () => setContext('BROWSER')\n  }, i18n.t('Used for applications, like public portals, that will be accessed with a web browser.'))));\n};\nContextSelector.propTypes = {\n  setContext: PropTypes.func.isRequired,\n  context: PropTypes.string\n};\nexport default ContextSelector;","import { ReactFinalForm, TextAreaFieldFF } from '@dhis2/ui';\nimport ipRegex from 'ip-regex';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nconst isValidIpAddress = ipAddress => ipRegex({\n  exact: true\n}).test(ipAddress);\nconst ipAddresesValidator = value => {\n  if (!value) {\n    return;\n  }\n  const ipAddresses = value.split('\\n').filter(ipAddress => ipAddress.trim() !== '');\n  for (const ipAddress of ipAddresses) {\n    if (!isValidIpAddress(ipAddress)) {\n      return i18n.t(`Invalid IP address '{{- ipAddress}}'`, {\n        ipAddress\n      });\n    }\n  }\n};\nconst AllowedIpsFF = () => /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n  name: \"allowedIps\",\n  label: i18n.t('Allowed IP addresses'),\n  component: TextAreaFieldFF,\n  helpText: i18n.t('List one IP address per line.'),\n  rows: 3,\n  validate: ipAddresesValidator\n});\nexport default AllowedIpsFF;","import { IconWarning16 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport AllowedIpsFF from './AllowedIpsFF.component.js';\nimport AllowedMethodsFF from './AllowedMethodsFF.component.js';\nimport ExpirationDateFF from './ExpirationDateFF.component.js';\nimport styles from './Form.module.css';\nconst ServerForm = _ref => {\n  let {\n    values\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.field\n  }, /*#__PURE__*/React.createElement(ExpirationDateFF, {\n    values: values\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.fieldWithExplanation\n  }, /*#__PURE__*/React.createElement(AllowedIpsFF, null), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.explanation\n  }, /*#__PURE__*/React.createElement(IconWarning16, null), i18n.t('Important: IP address validation relies on the X-Forwarded-For header, which can be spoofed. For security, make sure a load balancer or reverse proxy overwrites this header.', {\n    nsSeparator: '-:-'\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.field\n  }, /*#__PURE__*/React.createElement(AllowedMethodsFF, null)));\n};\nServerForm.propTypes = {\n  values: PropTypes.object.isRequired\n};\nexport default ServerForm;","import { useDataMutation, useAlert } from '@dhis2/app-runtime';\nimport { Button, ButtonStrip, Modal, ModalTitle, ModalContent, ModalActions, ReactFinalForm } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport i18n from '../../locales/index.js';\nimport AuthoritiesWarning from './AuthoritiesWarning.component.js';\nimport BrowserForm from './BrowserForm.component.js';\nimport ContextSelector from './ContextSelector.component.js';\nimport formStyles from './Form.module.css';\nimport getTokenExpirationDate from './getTokenExpirationDate.js';\nimport ServerForm from './ServerForm.component.js';\nconst renderContext = _ref => {\n  let {\n    context,\n    values\n  } = _ref;\n  switch (context) {\n    case 'SERVER':\n      return /*#__PURE__*/React.createElement(ServerForm, {\n        values: values\n      });\n    case 'BROWSER':\n      return /*#__PURE__*/React.createElement(BrowserForm, {\n        values: values\n      });\n    default:\n      throw new Error(`Unknown context: '${context}'`);\n  }\n};\nconst generateTokenMutation = {\n  resource: 'apiToken',\n  type: 'create',\n  data: data => data\n};\nconst getExpire = formParams => {\n  const expirationDate = formParams.expirationDate === 'CUSTOM' ? new Date(formParams.customExpirationDate) : getTokenExpirationDate(formParams.expirationDate);\n  return Number(expirationDate);\n};\nconst getAllowedIpsAttribute = _ref2 => {\n  let {\n    allowedIps\n  } = _ref2;\n  if (!allowedIps) {\n    return null;\n  }\n  return {\n    type: 'IpAllowedList',\n    allowedIps: allowedIps.split('\\n').filter(ipAddress => ipAddress.trim() !== '')\n  };\n};\nconst getAllowedMethodsAttribute = _ref3 => {\n  let {\n    allowedMethodsGET,\n    allowedMethodsPOST,\n    allowedMethodsPUT,\n    allowedMethodsPATCH,\n    allowedMethodsDELETE\n  } = _ref3;\n  return {\n    type: 'MethodAllowedList',\n    allowedMethods: [allowedMethodsGET && 'GET', allowedMethodsPOST && 'POST', allowedMethodsPUT && 'PUT', allowedMethodsPATCH && 'PATCH', allowedMethodsDELETE && 'DELETE'].filter(am => typeof am === 'string')\n  };\n};\nconst getAllowedReferersAttribute = _ref4 => {\n  let {\n    allowedReferrers\n  } = _ref4;\n  if (!allowedReferrers) {\n    return null;\n  }\n  return {\n    type: 'RefererAllowedList',\n    allowedReferrers: allowedReferrers.split('\\n').filter(referrer => referrer.trim() !== '')\n  };\n};\nconst GenerateTokenModal = _ref5 => {\n  let {\n    onGenerate,\n    onClose\n  } = _ref5;\n  const errorAlert = useAlert(_ref6 => {\n    let {\n      error\n    } = _ref6;\n    return error.message;\n  }, {\n    critical: true\n  });\n  const [generateToken, {\n    loading\n  }] = useDataMutation(generateTokenMutation, {\n    onComplete: data => {\n      const {\n        uid: id,\n        key\n      } = data.response;\n      onGenerate({\n        id,\n        key\n      });\n      onClose();\n    },\n    onError: error => {\n      errorAlert.show({\n        error\n      });\n    }\n  });\n  const [context, setContext] = useState(null);\n  const handleGenerate = formParams => {\n    if (context === 'BROWSER' && !confirm(i18n.t('Personal access tokens should only be used in a browser context for public access instances. For private instances, tokens should be treated like passwords and be kept private  requests should instead be routed through a proxy.'))) {\n      return;\n    }\n    const params = {\n      expire: getExpire(formParams),\n      attributes: [getAllowedIpsAttribute(formParams), getAllowedMethodsAttribute(formParams), getAllowedReferersAttribute(formParams)].filter(a => a !== null)\n    };\n    generateToken(params);\n  };\n  return /*#__PURE__*/React.createElement(Modal, {\n    onClose: onClose,\n    large: true\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Generate new token')), /*#__PURE__*/React.createElement(ReactFinalForm.Form, {\n    onSubmit: handleGenerate\n  }, _ref7 => {\n    let {\n      handleSubmit,\n      valid,\n      values\n    } = _ref7;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(ContextSelector, {\n      context: context,\n      setContext: setContext\n    }), context && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n      className: formStyles.header\n    }, i18n.t('Token details')), renderContext({\n      context,\n      values\n    }), /*#__PURE__*/React.createElement(AuthoritiesWarning, null))), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n      end: true\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: onClose,\n      secondary: true\n    }, i18n.t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n      primary: true,\n      onClick: handleSubmit,\n      disabled: !context || !valid,\n      loading: loading\n    }, i18n.t('Generate new token')))));\n  }));\n};\nGenerateTokenModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  onGenerate: PropTypes.func.isRequired\n};\nexport default GenerateTokenModal;","// extracted by mini-css-extract-plugin\nexport default {\"heading\":\"PersonalAccessTokens_heading__fu0FX\",\"cardWrapper\":\"PersonalAccessTokens_cardWrapper__AWFwQ\",\"card\":\"PersonalAccessTokens_card__mezO0\"};","import { useState } from 'react';\nexport const useModal = () => {\n  const [isVisible, setIsVisible] = useState(false);\n  return {\n    isVisible,\n    show: () => setIsVisible(true),\n    hide: () => setIsVisible(false)\n  };\n};","import { useDataMutation } from '@dhis2/app-runtime';\nimport { Button, ButtonStrip, Modal, ModalTitle, ModalContent, ModalActions, NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nconst mutation = {\n  resource: 'apiToken',\n  type: 'delete',\n  id: _ref => {\n    let {\n      id\n    } = _ref;\n    return id;\n  }\n};\nconst ConfirmDeleteModal = _ref2 => {\n  let {\n    tokenId,\n    onClose,\n    onDelete\n  } = _ref2;\n  const [deleteToken, {\n    loading,\n    error\n  }] = useDataMutation(mutation, {\n    onComplete: () => {\n      onDelete();\n      onClose();\n    }\n  });\n  return /*#__PURE__*/React.createElement(Modal, {\n    onClose: onClose,\n    small: true\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Are you sure you want to delete this token?')), /*#__PURE__*/React.createElement(ModalContent, null, error && /*#__PURE__*/React.createElement(NoticeBox, {\n    error: true,\n    title: i18n.t('Error deleting token')\n  }, error.message), i18n.t(`Any application or script using this token will no longer be able to access this instance's API. You cannot undo this action.`)), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n    end: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    onClick: onClose\n  }, i18n.t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n    destructive: true,\n    onClick: () => deleteToken({\n      id: tokenId\n    }),\n    loading: loading\n  }, i18n.t('Delete token')))));\n};\nConfirmDeleteModal.propTypes = {\n  tokenId: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired\n};\nexport default ConfirmDeleteModal;","// extracted by mini-css-extract-plugin\nexport default {\"items\":\"ExistingToken_items__VbHIW\",\"item\":\"ExistingToken_item__3lC3R\",\"singleLineItem\":\"ExistingToken_singleLineItem__gbaJv ExistingToken_item__3lC3R\",\"itemTitle\":\"ExistingToken_itemTitle__tVg43\",\"itemValue\":\"ExistingToken_itemValue__sgDBT\",\"allowedMethods\":\"ExistingToken_allowedMethods__CsflS\",\"allowedList\":\"ExistingToken_allowedList__YUHPl\"};","import PropTypes from 'prop-types';\nconst TokenPropType = PropTypes.shape({\n  attributes: PropTypes.array.isRequired,\n  createdAt: PropTypes.instanceOf(Date).isRequired,\n  expiresAt: PropTypes.instanceOf(Date).isRequired,\n  id: PropTypes.string.isRequired,\n  key: PropTypes.string\n});\nexport default TokenPropType;","import { Tag, Tooltip } from '@dhis2/ui';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport styles from './ExistingToken.module.css';\nimport TokenPropType from './TokenPropType.js';\nconst getAttribute = (attributes, type, field) => {\n  const attribute = attributes.find(attribute => attribute.type === type);\n  if (!attribute) {\n    return null;\n  }\n  return attribute[field];\n};\nconst RelativeDateTime = _ref => {\n  let {\n    dateTime\n  } = _ref;\n  return /*#__PURE__*/React.createElement(Tooltip, {\n    content: dateTime.toISOString()\n  }, moment(dateTime).fromNow());\n};\nRelativeDateTime.propTypes = {\n  dateTime: PropTypes.instanceOf(Date).isRequired\n};\nconst Item = _ref2 => {\n  let {\n    title,\n    children,\n    singleLine\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: singleLine ? styles.singleLineItem : styles.item\n  }, /*#__PURE__*/React.createElement(\"dt\", {\n    className: styles.itemTitle\n  }, title), /*#__PURE__*/React.createElement(\"dd\", {\n    className: styles.itemValue\n  }, children));\n};\nItem.defaultProps = {\n  singleLine: false\n};\nItem.propTypes = {\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string.isRequired,\n  singleLine: PropTypes.bool\n};\nconst ExistingToken = _ref3 => {\n  let {\n    token\n  } = _ref3;\n  const {\n    attributes,\n    createdAt,\n    expiresAt\n  } = token;\n  const allowedMethods = getAttribute(attributes, 'MethodAllowedList', 'allowedMethods');\n  const allowedIps = getAttribute(attributes, 'IpAllowedList', 'allowedIps');\n  const allowedReferrers = getAttribute(attributes, 'RefererAllowedList', 'allowedReferrers');\n  return /*#__PURE__*/React.createElement(\"dl\", {\n    className: styles.items\n  }, /*#__PURE__*/React.createElement(Item, {\n    title: i18n.t('Expires'),\n    singleLine: true\n  }, /*#__PURE__*/React.createElement(RelativeDateTime, {\n    dateTime: expiresAt\n  })), /*#__PURE__*/React.createElement(Item, {\n    title: i18n.t('Created'),\n    singleLine: true\n  }, /*#__PURE__*/React.createElement(RelativeDateTime, {\n    dateTime: createdAt\n  })), allowedMethods && /*#__PURE__*/React.createElement(Item, {\n    title: i18n.t('Allowed HTTP methods')\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.allowedMethods\n  }, allowedMethods.map(method => /*#__PURE__*/React.createElement(Tag, {\n    key: method,\n    positive: true\n  }, method)))), allowedIps && /*#__PURE__*/React.createElement(Item, {\n    title: i18n.t('Allowed IP addresses')\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: styles.allowedList\n  }, allowedIps.map(ip => /*#__PURE__*/React.createElement(\"li\", {\n    key: ip\n  }, ip)))), allowedReferrers && /*#__PURE__*/React.createElement(Item, {\n    title: i18n.t('Allowed referrers')\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: styles.allowedList\n  }, allowedReferrers.map(referrer => /*#__PURE__*/React.createElement(\"li\", {\n    key: referrer\n  }, referrer)))));\n};\nExistingToken.propTypes = {\n  token: TokenPropType.isRequired\n};\nexport default ExistingToken;","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"NewToken_header__HdpQ6\",\"token\":\"NewToken_token__k7LJY\"};","import { useAlert } from '@dhis2/app-runtime';\nimport { Button, IconCopy16 } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport styles from './NewToken.module.css';\nimport TokenPropType from './TokenPropType.js';\nconst NewToken = _ref => {\n  let {\n    token\n  } = _ref;\n  const copiedAlert = useAlert(i18n.t('Copied token to clipboard'), {\n    success: true\n  });\n  const handleCopy = () => {\n    navigator.clipboard.writeText(token.key);\n    copiedAlert.show();\n  };\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h3\", {\n    className: styles.header\n  }, i18n.t('Newly created token')), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.token\n  }, token.key, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleCopy,\n    icon: /*#__PURE__*/React.createElement(IconCopy16, null),\n    small: true\n  }, i18n.t('Copy to clipboard'))));\n};\nNewToken.propTypes = {\n  token: TokenPropType.isRequired\n};\nexport default NewToken;","// extracted by mini-css-extract-plugin\nexport default {\"token\":\"TokenCard_token__Gm2u2\",\"newToken\":\"TokenCard_newToken__cg4VR TokenCard_token__Gm2u2\",\"tokenData\":\"TokenCard_tokenData__c-tB5\"};","import { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { useModal } from '../use-modal.js';\nimport ConfirmDeleteModal from './ConfirmDeleteModal.component.js';\nimport ExistingToken from './ExistingToken.component.js';\nimport NewToken from './NewToken.component.js';\nimport styles from './TokenCard.module.css';\nimport TokenPropType from './TokenPropType.js';\nconst TokenCard = _ref => {\n  let {\n    token,\n    onDelete\n  } = _ref;\n  const confirmDeleteModal = useModal();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, confirmDeleteModal.isVisible && /*#__PURE__*/React.createElement(ConfirmDeleteModal, {\n    tokenId: token.id,\n    onClose: confirmDeleteModal.hide,\n    onDelete: onDelete\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: token.key ? styles.newToken : styles.token\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.tokenData\n  }, token.key ? /*#__PURE__*/React.createElement(NewToken, {\n    token: token\n  }) : /*#__PURE__*/React.createElement(ExistingToken, {\n    token: token\n  })), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Button, {\n    onClick: confirmDeleteModal.show\n  }, i18n.t('Delete')))));\n};\nTokenCard.propTypes = {\n  token: TokenPropType.isRequired,\n  onDelete: PropTypes.func.isRequired\n};\nexport default TokenCard;","// extracted by mini-css-extract-plugin\nexport default {\"copyTokenNotice\":\"TokensList_copyTokenNotice__V6IQO\",\"list\":\"TokensList_list__DJQPo\"};","import { CenteredContent, CircularLoader, NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../locales/index.js';\nimport TokenCard from './tokenCard/TokenCard.component.js';\nimport styles from './TokensList.module.css';\nconst TokensList = _ref => {\n  let {\n    loading,\n    error,\n    tokens,\n    onDelete\n  } = _ref;\n  if (loading) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n  if (error) {\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: i18n.t('Error loading personal access tokens')\n    }, error.message);\n  }\n  if (!tokens.length) {\n    return /*#__PURE__*/React.createElement(\"p\", null, i18n.t(`You don't have any active personal access tokens`));\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, tokens.some(_ref2 => {\n    let {\n      key\n    } = _ref2;\n    return key;\n  }) ? /*#__PURE__*/React.createElement(NoticeBox, {\n    className: styles.copyTokenNotice,\n    title: i18n.t(`You'll only be shown your token once`)\n  }, i18n.t(`Make sure to copy your personal access token now. You won't be able to see it again`)) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.list\n  }, tokens.map(token => /*#__PURE__*/React.createElement(TokenCard, {\n    key: token.id,\n    token: token,\n    onDelete: onDelete\n  }))));\n};\nTokensList.propTypes = {\n  onDelete: PropTypes.func.isRequired,\n  error: PropTypes.object,\n  loading: PropTypes.bool,\n  tokens: PropTypes.array\n};\nexport default TokensList;","import { useDataQuery } from '@dhis2/app-runtime';\nimport { Card, Button } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport i18n from '../locales/index.js';\nimport userProfileStore from '../profile/profile.store.js';\nimport GenerateTokenModal from './generateTokenModal/GenerateTokenModal.component.js';\nimport styles from './PersonalAccessTokens.module.css';\nimport TokensList from './TokensList.component.js';\nimport { useModal } from './use-modal.js';\nconst query = {\n  tokens: {\n    resource: 'apiToken',\n    params: _ref => {\n      let {\n        userId\n      } = _ref;\n      return {\n        fields: ['id', 'created', 'expire', 'attributes'],\n        paging: false,\n        filter: `createdBy.id:eq:${userId}`\n      };\n    }\n  }\n};\nconst PersonalAccessTokens = () => {\n  const userId = userProfileStore.state.id;\n  const [tokenKeys, setTokenKeys] = useState(new Map());\n  const {\n    loading,\n    error,\n    data,\n    refetch\n  } = useDataQuery(query, {\n    variables: {\n      userId\n    }\n  });\n  const generateTokenModal = useModal();\n  const tokens = data === null || data === void 0 ? void 0 : data.tokens.apiToken.map(_ref2 => {\n    let {\n      id,\n      created,\n      expire,\n      attributes\n    } = _ref2;\n    return {\n      id,\n      attributes,\n      createdAt: new Date(created),\n      expiresAt: new Date(expire),\n      key: tokenKeys.get(id)\n    };\n  }).filter(_ref3 => {\n    let {\n      expiresAt\n    } = _ref3;\n    return expiresAt > new Date();\n  });\n  const handleGenerate = _ref4 => {\n    let {\n      id,\n      key\n    } = _ref4;\n    setTokenKeys(tokenKeys.set(id, key));\n    refetch();\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, generateTokenModal.isVisible && /*#__PURE__*/React.createElement(GenerateTokenModal, {\n    onGenerate: handleGenerate,\n    onClose: generateTokenModal.hide\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-area\"\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: styles.heading\n  }, i18n.t('Manage personal access tokens')), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.cardWrapper\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: styles.card\n  }, /*#__PURE__*/React.createElement(TokensList, {\n    loading: loading,\n    error: error,\n    tokens: tokens,\n    onDelete: refetch\n  }), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: generateTokenModal.show\n  }, i18n.t('Generate new token'))))));\n};\nexport default PersonalAccessTokens;","import React from 'react';\nimport FormFields from '../layout/FormFields.component.js';\nimport i18n from '../locales/index.js';\nimport userProfileActions from './profile.actions.js';\nimport userProfileStore from './profile.store.js';\nfunction EditProfile() {\n  const fieldKeys = ['firstName', 'surname', 'email', 'avatar', 'phoneNumber', 'introduction', 'jobTitle', 'gender', 'birthday', 'nationality', 'employer', 'education', 'interests', 'languages', 'whatsApp', 'facebookMessenger', 'skype', 'telegram', 'twitter'];\n  const pageLabel = i18n.t('Edit user profile');\n  return /*#__PURE__*/React.createElement(FormFields, {\n    pageLabel: pageLabel,\n    fieldKeys: fieldKeys,\n    valueStore: userProfileStore,\n    onUpdateField: userProfileActions.save,\n    showEmailWarning: true\n  });\n}\nexport default EditProfile;","import { getInstance as getD2 } from 'd2';\nimport Action from 'd2-ui/lib/action/Action.js';\nimport log from 'loglevel';\nimport appActions from '../app.actions.js';\nimport i18n from '../locales/index.js';\nimport userSettingsStore from './userSettings.store.js';\nconst userSettingsActions = Action.createActionsFromNames(['save']);\nuserSettingsActions.save.subscribe(_ref => {\n  let {\n    data,\n    complete,\n    error\n  } = _ref;\n  const key = data[0];\n  const value = data[1] === 'null' || data[1] === 'system_default' ? null : data[1];\n  getD2().then(d2 => {\n    d2.currentUser.userSettings.set(key, value).then(() => {\n      userSettingsStore.state[key] = value;\n      userSettingsStore.setState(userSettingsStore.state);\n      log.debug('User Setting updated successfully.');\n      appActions.showSnackbarMessage({\n        message: i18n.t('Settings updated'),\n        status: 'success'\n      });\n      complete();\n    }).catch(err => {\n      userSettingsStore.setState(userSettingsStore.state);\n      log.warn('API call failed:', err);\n      appActions.showSnackbarMessage({\n        message: i18n.t('Failed to update settings'),\n        status: 'error'\n      });\n      error();\n    });\n  });\n});\nexport default userSettingsActions;","import React from 'react';\nimport FormFields from '../layout/FormFields.component.js';\nimport i18n from '../locales/index.js';\nimport userSettingsActions from './userSettings.actions.js';\nimport userSettingsStore from './userSettings.store.js';\nfunction EditProfile() {\n  const fieldKeys = ['keyUiLocale', 'keyDbLocale', 'keyStyle', 'keyAnalysisDisplayProperty', 'keyMessageEmailNotification', 'keyMessageSmsNotification'];\n  const pageLabel = i18n.t('Edit user settings');\n  return /*#__PURE__*/React.createElement(FormFields, {\n    pageLabel: pageLabel,\n    fieldKeys: fieldKeys,\n    valueStore: userSettingsStore,\n    onUpdateField: userSettingsActions.save\n  });\n}\nexport default EditProfile;","function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { Card, CardText } from 'material-ui/Card';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport settingsKeyMapping from '../userSettingsMapping.js';\nimport InfoHeader from './InfoHeader.component.js';\nimport InfoRow from './InfoRow.component.js';\nconst styles = {\n  card: {\n    marginTop: 8,\n    marginRight: '1rem',\n    padding: '0 1rem'\n  }\n};\nclass InfoCard extends Component {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"state\", {\n      canRender: false\n    });\n  }\n  componentDidMount() {\n    Promise.all([this.props.valueStore.state.getUserRoles(), this.props.valueStore.state.getOrganisationUnits()]).then(response => {\n      this.userRoles = response[0];\n      this.userOrgUnits = response[1];\n      this.setState({\n        canRender: true\n      });\n    });\n  }\n  getUserOrgUnitsValue() {\n    const userOrgUnitsValues = [];\n    this.userOrgUnits.valuesContainerMap.forEach(value => userOrgUnitsValues.push(value.name));\n    return userOrgUnitsValues.join(', ');\n  }\n  getUserRolesValue() {\n    const userRolesValues = [];\n    this.userRoles.valuesContainerMap.forEach(value => userRolesValues.push(value.name));\n    return userRolesValues.join(', ');\n  }\n  getOptionTypeValue(labelName) {\n    const value = this.props.valueStore.state[labelName];\n    return value || value === false ? settingsKeyMapping[labelName].options[value] : 'null';\n  }\n  getBirthdayDateValue(dateValue) {\n    const birthday = new Date(dateValue);\n    // Silly Date class gives day of month from getDate() and getMonth() is based from 0-11.\n    // TODO: Use locale date formatting\n    return birthday.getDate() + '-' + (birthday.getMonth() + 1) + '-' + birthday.getFullYear();\n  }\n  getLabelValue(labelName, type) {\n    if (!this.labelExists(labelName, type)) {\n      return '';\n    }\n    const labelValue = String(this.props.valueStore.state[labelName]).trim();\n    switch (type) {\n      case 'textfield':\n        return labelValue;\n      case 'date':\n        return this.getBirthdayDateValue(this.props.valueStore.state[labelName]);\n      case 'dropdown':\n        return this.getOptionTypeValue(labelName);\n      case 'userOrgUnits':\n        return this.getUserOrgUnitsValue();\n      case 'userRoles':\n        return this.getUserRolesValue();\n      case 'emailModal':\n        return labelValue;\n      default:\n        return `${labelValue} value not found`;\n    }\n  }\n  getLabelComponent(labelName) {\n    const mapping = settingsKeyMapping[labelName];\n    const translatedLabelName = mapping.label;\n    const labelValue = this.getLabelValue(labelName, mapping.type);\n    return /*#__PURE__*/React.createElement(InfoRow, {\n      key: translatedLabelName,\n      label: translatedLabelName,\n      value: labelValue\n    });\n  }\n  getLabelComponents(labelNames) {\n    const labelComponents = labelNames.map(labelName => this.getLabelComponent(labelName));\n    return labelComponents;\n  }\n  labelExists(labelName, type) {\n    return this.props.valueStore.state && Object.prototype.hasOwnProperty.call(this.props.valueStore.state, labelName) || type === 'userRoles' || type === 'userOrgUnits';\n  }\n  renderLabels(labelNames) {\n    return /*#__PURE__*/React.createElement(Card, {\n      style: styles.card\n    }, /*#__PURE__*/React.createElement(CardText, null, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"info-content\"\n    }, /*#__PURE__*/React.createElement(\"tbody\", null, this.getLabelComponents(labelNames)))));\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content-area\"\n    }, /*#__PURE__*/React.createElement(InfoHeader, {\n      text: this.props.pageLabel\n    }), this.state.canRender && this.renderLabels(this.props.labelKeys));\n  }\n}\nInfoCard.propTypes = {\n  labelKeys: PropTypes.arrayOf(PropTypes.string).isRequired,\n  pageLabel: PropTypes.string.isRequired,\n  valueStore: PropTypes.object.isRequired\n};\nexport default InfoCard;","import React from 'react';\nimport InfoCard from '../layout/InfoCard.component.js';\nimport i18n from '../locales/index.js';\nimport profileSettingsStore from '../profile/profile.store.js';\nfunction ViewProfile() {\n  const labelKeys = ['firstName', 'surname', 'gender', 'email', 'phoneNumber', 'introduction', 'birthday', 'nationality', 'employer', 'jobTitle', 'userRoles', 'userOrgUnits', 'education', 'interests', 'languages'];\n  const pageLabel = i18n.t('View full profile');\n  return /*#__PURE__*/React.createElement(InfoCard, {\n    pageLabel: pageLabel,\n    labelKeys: labelKeys,\n    valueStore: profileSettingsStore\n  });\n}\nexport default ViewProfile;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { DataProvider } from '@dhis2/app-runtime';\nimport { CssVariables } from '@dhis2/ui';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider.js';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Router, Route, hashHistory, Redirect } from 'react-router';\nimport AboutPage from './aboutPage/AboutPage.component.js';\nimport Account from './account/Account.component.js';\nimport PasswordChangeSuccessDialog from './account/PasswordChangeSuccessDialog.js';\nimport TwoFactor from './account/twoFactor/TwoFactor.js';\nimport TwoFactor41AndLower from './account/twoFactor/TwoFactor41AndLower.js';\nimport Sidebar from './layout/Sidebar.component.js';\nimport Snackbar from './layout/Snackbar.component.js';\nimport AppTheme from './layout/theme.js';\nimport PersonalAccessTokens from './personalAccessTokens/PersonalAccessTokens.component.js';\nimport Profile from './profile/Profile.component.js';\nimport UserSettings from './settings/UserSettings.component.js';\nimport ViewProfile from './viewProfile/ViewProfile.component.js';\nfunction WrappedApp(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-wrap\"\n  }, /*#__PURE__*/React.createElement(Sidebar, {\n    currentSection: props.routes[1].path,\n    twoFactorAuthByType: props.twoFactorMethods\n  }), props.children);\n}\nWrappedApp.propTypes = {\n  children: PropTypes.any.isRequired,\n  routes: PropTypes.array.isRequired,\n  twoFactorMethods: PropTypes.bool.isRequired\n};\nclass AppRouter extends Component {\n  get minorVersion() {\n    var _this$props, _this$props$d, _this$props$d$system, _this$props$d$system$;\n    return ((_this$props = this.props) === null || _this$props === void 0 ? void 0 : (_this$props$d = _this$props.d2) === null || _this$props$d === void 0 ? void 0 : (_this$props$d$system = _this$props$d.system) === null || _this$props$d$system === void 0 ? void 0 : (_this$props$d$system$ = _this$props$d$system.version) === null || _this$props$d$system$ === void 0 ? void 0 : _this$props$d$system$.minor) || 'Unknown';\n  }\n  getChildContext() {\n    return {\n      d2: this.props.d2,\n      muiTheme: AppTheme,\n      featureToggle: {\n        emailFieldAsModal: this.minorVersion > 41\n      }\n    };\n  }\n  getDataProviderProps() {\n    const baseUrl = this.props.d2.system.systemInfo.contextPath;\n    const apiUrl = this.props.d2.system.settings.api.baseUrl;\n    const versionString = apiUrl.split('/').pop();\n    const apiVersion = isNaN(parseInt(versionString, 10)) ? '' : versionString;\n    return {\n      baseUrl,\n      apiVersion\n    };\n  }\n  getDefaultRedirect() {\n    var _this$props$d2, _this$props$d2$system, _this$props$d2$system2, _this$props$d2$system3;\n    const enforceVerifiedEmail = (_this$props$d2 = this.props.d2) === null || _this$props$d2 === void 0 ? void 0 : (_this$props$d2$system = _this$props$d2.system) === null || _this$props$d2$system === void 0 ? void 0 : (_this$props$d2$system2 = _this$props$d2$system.settings) === null || _this$props$d2$system2 === void 0 ? void 0 : (_this$props$d2$system3 = _this$props$d2$system2.settings) === null || _this$props$d2$system3 === void 0 ? void 0 : _this$props$d2$system3.enforceVerifiedEmail;\n    const emailVerified = this.props.d2.currentUser.emailVerified;\n\n    // Redirect to the profile page if email is unverified and the setting is enforced\n    return enforceVerifiedEmail && !emailVerified ? '/profile' : '/viewProfile';\n  }\n  render() {\n    const defaultRedirect = this.getDefaultRedirect();\n    return /*#__PURE__*/React.createElement(DataProvider, this.getDataProviderProps(), /*#__PURE__*/React.createElement(CssVariables, {\n      colors: true,\n      spacers: true\n    }), /*#__PURE__*/React.createElement(MuiThemeProvider, {\n      muiTheme: AppTheme\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app-wrapper\"\n    }, /*#__PURE__*/React.createElement(Snackbar, null), /*#__PURE__*/React.createElement(Router, {\n      history: hashHistory\n    }, /*#__PURE__*/React.createElement(Route, {\n      getComponent: (location, callback) => callback(null, props => /*#__PURE__*/React.createElement(WrappedApp, _extends({}, props, {\n        twoFactorMethods: this.minorVersion > 41\n      })))\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"settings\",\n      component: UserSettings\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"profile\",\n      component: Profile\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"account\",\n      component: Account\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"twoFactor\",\n      component: this.minorVersion > 41 ? TwoFactor : TwoFactor41AndLower\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"passwordChanged\",\n      component: PasswordChangeSuccessDialog\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"viewProfile\",\n      component: ViewProfile\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"personalAccessTokens\",\n      component: PersonalAccessTokens\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"aboutPage\",\n      component: AboutPage\n    }), /*#__PURE__*/React.createElement(Redirect, {\n      from: \"/\",\n      to: defaultRedirect\n    }))))));\n  }\n}\nAppRouter.propTypes = {\n  d2: PropTypes.object.isRequired\n};\nAppRouter.childContextTypes = {\n  d2: PropTypes.object,\n  muiTheme: PropTypes.object,\n  featureToggle: PropTypes.object\n};\nexport default AppRouter;","import { useD2 } from '@dhis2/app-runtime-adapter-d2';\nimport log from 'loglevel';\nimport React from 'react';\nimport AppRouter from './app.router.js';\nimport optionValueStore from './optionValue.store.js';\nimport userProfileStore from './profile/profile.store.js';\nimport userSettingsStore from './settings/userSettings.store.js';\nimport './locales/index.js';\nimport './layout/app.css';\nimport 'material-design-icons-iconfont/dist/material-design-icons.css';\nconst AppWrapper = () => {\n  const {\n    d2\n  } = useD2({\n    onInitialized: d2 => {\n      const api = d2.Api.getApi();\n      return Promise.all([api.get('system/styles'), api.get('locales/ui'), api.get('locales/db'), api.get('userSettings', {\n        useFallback: false\n      }), d2.system.settings.all(), api.get('2fa/enabled')]).then(results => {\n        const styles = (results[0] || []).map(style => ({\n          id: style.path,\n          displayName: style.name\n        }));\n        const uiLocales = (results[1] || []).map(locale => ({\n          id: locale.locale,\n          displayName: locale.name === locale.displayName ? locale.name : `${locale.name}  ${locale.displayName}`\n        }));\n        const dbLocales = (results[2] || []).map(locale => ({\n          id: locale.locale,\n          displayName: locale.name === locale.displayName ? locale.name : `${locale.name}  ${locale.displayName}`\n        }));\n        const systemDefault = {\n          ...results[4]\n        };\n\n        // Deleting this property because this is no longer valid\n        // it will be removed from the response object in the\n        // future, but until then, we remove it here...\n        delete d2.currentUser.twoFA;\n        userProfileStore.setState(d2.currentUser);\n        userProfileStore.state.twoFaEnabled = results[5];\n        userSettingsStore.setState(results[3]);\n        optionValueStore.setState({\n          styles,\n          uiLocales,\n          dbLocales,\n          systemDefault\n        });\n        log.debug('Current user profile loaded:', userProfileStore.state);\n        log.debug('Current user settings loaded:', userSettingsStore.state);\n      }, error => {\n        log.error('Failed to load user settings:', error);\n      }).then(() => api.get('configuration/twoFactorMethods')).then(results => {\n        optionValueStore.state.twoFactorMethods = results;\n      }, () => {\n        optionValueStore.state.twoFactorMethods = undefined;\n      });\n    }\n  });\n  if (!d2) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(AppRouter, {\n    d2: d2\n  });\n};\nexport default AppWrapper;"],"names":["namespace","i18n","arTranslations","ar_IQTranslations","bnTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","es_419Translations","frTranslations","hi_INTranslations","idTranslations","kmTranslations","loTranslations","myTranslations","nbTranslations","neTranslations","nlTranslations","orTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","roTranslations","ruTranslations","siTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uz_CyrlTranslations","uz_LatnTranslations","uz_UZ_CyrlTranslations","uz_UZ_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","theme","spacing","Spacing","fontFamily","palette","primary1Color","blue500","primary2Color","blue700","primary3Color","blue100","accent1Color","orange500","accent2Color","grey100","accent3Color","grey500","textColor","darkBlack","alternateTextColor","white","canvasColor","borderColor","grey400","disabledColor","fade","muiTheme","getMuiTheme","Object","assign","forms","minWidth","maxWidth","formInput","fontWeight","styles","header","fontSize","color","AppTheme","padding","_ref","text","React","style","InfoRow","label","value","labelStyle","className","defaultProps","card","marginTop","marginRight","attributes","InfoHeader","Card","CardText","map","_ref2","key","toString","_defineProperty","obj","arg","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","String","Number","_toPrimitive","_toPropertyKey","defineProperty","enumerable","configurable","writable","parseDateFromUTCString","utcString","d2","hideIfEmpty","locale","currentUser","userSettings","settings","keyUiLocale","date","Date","options","day","month","year","hour","minute","hour12","Intl","DateTimeFormat","format","error","systemInfo","getDisplayValue","_value","target","rel","href","system","contextPath","username","databaseInfo","AboutPage","Component","constructor","super","arguments","this","selected","source","reduce","acc","attribute","context","push","getAttributes","length","AboutSection","contextTypes","PropTypes","Store","appActions","Action","init","subscribe","getD2","then","api","Api","getApi","Promise","all","get","useFallback","results","id","path","displayName","name","uiLocales","dbLocales","systemDefault","keys","defaults","userProfileStore","url","userSettingsStore","optionValueStore","log","ReactDOM","AppRouter","document","querySelector","setCategory","data","hashHistory","accountActions","setPassword","oldPassword","newPassword","onSuccess","complete","payload","update","catch","err","message","status","permanent","notification","border","backgroundColor","AccountEditor","props","state","trim","setState","reNewPassword","formState","formBuilder","form","pristine","validating","valid","isNotEmpty","clearRepeatPassword","e","v","val","regEx","test","wrongOldPasswordText","render","usesOpenIdConnect","externalAuth","minPasswordLength","maxPasswordLength","minLength","isInteger","maxLength","passwordRegEx","RegExp","fields","component","TextField","floatingLabelText","width","disabled","type","changeEvent","autoComplete","validators","validator","validatePassword","isSamePassword","FlatButton","onClick","openTwoFactorDialog","secondary","RaisedButton","updatePassword","FormBuilder","onUpdateField","updateState","ref","r","firstName","surname","avatar","gender","gender_male","gender_female","gender_other","email","phoneNumber","introduction","multiLine","jobTitle","userRoles","userOrgUnits","birthday","nationality","employer","education","interests","languages","whatsApp","facebookMessenger","skype","telegram","twitter","accountEditor","showSystemDefault","keyDbLocale","keyStyle","keyAnalysisDisplayProperty","shortName","keyMessageEmailNotification","true","false","keyMessageSmsNotification","AvatarEditor","_optionValueStore$sta","_optionValueStore$sta2","inputRef","node","async","onChange","file","event","files","maxSize","maxPhotoSize","size","userSettingsActions","loading","formData","FormData","append","imageId","post","response","fileResource","avatarSrc","parseAvatarSrc","console","getInputRef","keyMaxAvatarSizeInMB","userId","avatarId","baseUrl","renderAvatar","src","alt","renderPlaceholder","CircularProgress","containerElement","icon","FileUpload","primary","onFileSelect","display","accept","setInputRef","ActionDelete","onRemoveIcon","show","content","children","Tooltip","sendEmailVerificationMutation","resource","VerifyEmail","userEmail","errorAlert","useAlert","critical","successAlert","_ref3","success","useConfig","emailVerified","mutateEmailVerification","mutationLoading","useDataMutation","onComplete","onError","emailConfigured","isInvalidEmail","Boolean","emailValidator","TooltipWrapper","Button","TwoFAWarningModal","twoFAWarningModalOpen","setTwoFAWarningModalOpen","Modal","hide","onClose","ModalTitle","ModalContent","NoticeBox","title","warning","Link","to","ModalActions","ButtonStrip","end","RemoveModal","removeModalOpen","setRemoveModalOpen","userEmailVerified","onUpdate","destructive","EmailModal","_ref4","emailModalOpen","setEmailModalOpen","newEmail","setNewEmail","useState","newEmailConfirm","setNewEmailConfirm","newEmailConfirmTouched","setNewEmailConfirmTouched","emailValidationMessage","useMemo","emailsMatch","saveDisabled","saveDisabledContent","getSaveDisabledContent","InputField","validationText","newValue","EmailField","_ref5","twoFaByEmailInUse","VerifyEmailWarning","_config$system$settin","_config$system","_config$system$settin2","_config$system$settin3","_config$currentUser","config","emailUpdated","enforceVerifiedEmail","emailNotVerified","cardTitle","background","height","cardTitleText","noHits","userSettingsOverride","menuIcon","menuLabel","position","top","marginLeft","translateValidatorMessage","validatorMessage","createTextField","fieldBase","mapping","createFieldBaseObject","fieldName","valueStore","hintText","valueString","prototype","hasOwnProperty","propsObject","baseValidators","wordToValidatorMap","getNameValidator","filter","createField","featureToggle","userSettingsKeyMapping","DatePicker","dateFormat","textFieldStyle","allowFuture","createDateField","Checkbox","checked","createCheckBox","menuItems","slice","systemSettingValue","systemSettingLabel","x","unshift","SelectField","includeEmpty","emptyLabel","noOptionsLabel","createDropDown","createAccountEditor","createAvatarEditor","emailFieldAsModal","_d2$currentUser","_d2$currentUser2","twoFactorType","createEmailField","FormFields","componentDidMount","disposable","forceUpdate","componentWillUnmount","unsubscribe","renderFields","fieldNames","field","systemValue","actualSystemValue","systemValueLabel","find","item","systemDefaultLabel","WrappedComponent","wrapFieldWithLabel","_this$context","_this$props","_this$props$valueStor","_this$props$valueStor2","_this$props$valueStor3","_this$props2","_this$props2$valueSto","_this$props2$valueSto2","pageLabel","showEmailWarning","fieldKeys","PHONE_PATTERN","isValidWhatsApp","userProfileActions","save","toISOString","Array","isArray","prev","curr","user","removeAvatar","getProfileUpdatePromise","reload","window","location","titleText","bodyText","buttonText","buttons","Dialog","actions","modal","open","TwoFactorDisableNoticeBox","keySeparator","TwoFactorEnableNotice","IconQuestion16","emailAddress","nsSeparator","IconCheckmark16","IconErrorFilled24","enroll2FAViaEmailMutationDefinition","TwoFactorEmailDisableInstructions","_turnOff2FAViaEmailMu","_turnOff2FAViaEmailMu2","_turnOff2FAViaEmailMu3","_turnOff2FAViaEmailMu4","turnOff2FAViaEmail","turnOff2FAViaEmailMutation","TwoFactorEmailCodeButton","details","httpStatusCode","TwoFactorEmailEnableInstructions","_enroll2FAViaEmailMut","enroll2FAViaEmail","enroll2FAViaEmailMutation","TwoFactorOTPDisableInstructions","PlayStoreLink","AppStoreLink","QRCode","apiVersion","TwoFactorOTPEnableInstructions","twoFactorAuthTypes","twoFactorBackendTypesToAuthTypes","TOTP_ENABLED","EMAIL_ENABLED","totp2faEnabled","email2faEnabled","getAvailableTwoFAType","BEAvailableTwoFAType","entries","getTWOFAType","BETwoFAType","isTwoFaEnabled","twoFactorAuthToToShow","toggleEmail2faForbidden","allDigitsRegex","getValidationText","hasErrorState","_error$message","toggleTwoFa","touched","setTouched","twoFaConfirmationCode","setTwoFaConfirmationCode","isTwoFaConfirmationCodeValid","onBlur","required","inputWidth","placeholder","code","enableRadioLabels","mutationDefinitionBase","enableMutationDefinition","disableMutationDefinition","getAlertMessage","attemptingToEnableTwoFa","_error$message2","getAlertOptions","TwoFactor","enabledTwoFAType","availableTwoFAType","resetTwoFactorType","setEnabledTwoFAType","setAvailableTwoFAType","useEffect","subscription","twoFactorMethods","_Object$entries$find","BETwoFactorBackendType","useTwoFaToggleMutation","defaultTwoFactorAuthToShow","setTwoFactorAuthToShow","lastActionWasTwoFaDisableSuccess","setLastActionWasTwoFaDisableSuccess","showAlert","mutationOptions","enableDataMutation","disableDataMutation","currentMutation","fetching","cx","TwoFactorStatus","SegmentedControl","ariaLabel","TwoFactorInstructions","TwoFactorToggler","TwoFactorIntroduction","TwoFactor41AndLower","setIsTwoFaEnabled","twoFaEnabled","useTwoFaToggleMutation41AndLower","SidebarWrapper","hasEnabledTwoFactorMethods","hasTwoFactorMethods","values","some","showTwoFactorMethods","twoFactorAuthByType","sideBarSections","section","Sidebar","sections","onChangeSection","currentSection","messageStatus","neutral","SnackWrapper","snackbarMessage","showSnackbar","autoHideDuration","subscriptions","params","forEach","sub","Snackbar","bodyStyle","onRequestClose","closeSnackbar","query","authorities","AuthoritiesWarning","refetch","useDataQuery","CenteredContent","CircularLoader","small","authority","AllowedMethodsFF","ReactFinalForm","CheckboxFieldFF","initialValue","isValidUrl","parsedUrl","URL","includes","protocol","referrerValidator","referrers","split","referrer","AllowedReferrersFF","TextAreaFieldFF","helpText","rows","validate","today","moment","add","Error","futureDateValidator","expirationTimeOptions","renderExpirationDate","tokenExpirationDate","getTokenExpirationDate","SingleSelectFieldFF","hasValue","InputFieldFF","composeValidators","ExpirationDateFF","IconWarning16","Context","onSelect","Radio","dense","setContext","isValidIpAddress","ipAddress","ipRegex","exact","ipAddresesValidator","ipAddresses","AllowedIpsFF","generateTokenMutation","getExpire","formParams","expirationDate","customExpirationDate","getAllowedIpsAttribute","allowedIps","getAllowedMethodsAttribute","allowedMethodsGET","allowedMethodsPOST","allowedMethodsPUT","allowedMethodsPATCH","allowedMethodsDELETE","allowedMethods","am","getAllowedReferersAttribute","allowedReferrers","onGenerate","_ref6","generateToken","uid","large","onSubmit","confirm","expire","a","_ref7","handleSubmit","ContextSelector","formStyles","ServerForm","BrowserForm","renderContext","useModal","isVisible","setIsVisible","mutation","tokenId","onDelete","deleteToken","createdAt","isRequired","expiresAt","getAttribute","RelativeDateTime","dateTime","fromNow","Item","singleLine","token","method","Tag","positive","ip","copiedAlert","handleCopy","navigator","clipboard","writeText","IconCopy16","confirmDeleteModal","ConfirmDeleteModal","NewToken","ExistingToken","tokens","TokenCard","paging","PersonalAccessTokens","tokenKeys","setTokenKeys","Map","variables","generateTokenModal","apiToken","created","GenerateTokenModal","set","TokensList","InfoCard","canRender","getUserRoles","getOrganisationUnits","getUserOrgUnitsValue","userOrgUnitsValues","valuesContainerMap","join","getUserRolesValue","userRolesValues","getOptionTypeValue","labelName","settingsKeyMapping","getBirthdayDateValue","dateValue","getDate","getMonth","getFullYear","getLabelValue","labelExists","labelValue","getLabelComponent","translatedLabelName","getLabelComponents","labelNames","renderLabels","labelKeys","profileSettingsStore","_extends","bind","i","apply","WrappedApp","routes","minorVersion","_this$props$d","_this$props$d$system","_this$props$d$system$","version","minor","getChildContext","getDataProviderProps","versionString","pop","isNaN","parseInt","getDefaultRedirect","_this$props$d2","_this$props$d2$system","_this$props$d2$system2","_this$props$d2$system3","defaultRedirect","DataProvider","CssVariables","colors","spacers","MuiThemeProvider","Router","history","Route","getComponent","callback","UserSettings","Profile","Account","PasswordChangeSuccessDialog","ViewProfile","Redirect","from","childContextTypes","AppWrapper","useD2","onInitialized","twoFA"],"sourceRoot":""}